(function(){"use strict";var t={4936:function(t,e,n){n(752),n(73964),n(60429),n(36409);var i=n(70538),r=(n(34527),n(75847),function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-page"},[e("div",{staticClass:"login-page_wrap"},[e("h1",{staticClass:"top-title"},[t._v(" "+t._s(t.$t("login.loginTitle"))+" "),e("div",{staticClass:"locale-wrap"},[e("locale-select")],1)]),e("let-form",{ref:"form",attrs:{inline:"","label-position":"top",itemWidth:"440px"},nativeOn:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[e("let-form-item",{attrs:{label:t.$t("login.userName"),required:""}},[e("let-input",{attrs:{size:"small",required:"","required-tip":t.$t("login.userNameTips"),pattern:"^[a-zA-Z0-9_]+$","pattern-tip":t.$t("login.userNameRegTips")},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)}},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}})],1),e("let-form-item",{attrs:{label:t.$t("login.password"),required:""}},[e("let-input",{attrs:{type:"password",size:"small",required:"","required-tip":t.$t("login.passwordTips")},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),e("let-form-item",{attrs:{label:t.$t("login.captcha"),required:""}},[e("div",{staticClass:"captcha_box"},[e("let-input",{attrs:{type:"text",size:"small",required:"","required-tip":t.$t("login.captchaTips")},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)}},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}}),e("img",{staticClass:"captcha_code",attrs:{title:"点击刷新",src:t.captchaUrl},on:{click:t.reloadCaptcha}})],1)]),e("let-button",{staticClass:"btn_long",attrs:{type:"submit",theme:"primary"}},[t._v(t._s(t.$t("login.login")))])],1)],1)])}),a=[],o=(n(34338),n(64043),n(61514),n(60228),n(47522),n(60366)),l=n(18738),c=n.n(l),u={name:"loginPage",data:function(){return{uid:"",password:"",captcha:"",enableLdap:!1,captchaUrl:"/web/captcha?".concat(Math.random())}},computed:{redirectUrl:function(){return this.getQueryParam("redirect_url","/")}},components:{localeSelect:o.Z},methods:{checkEnableLdap:function(){var t=this;this.$ajax.getJSON("/server/api/isEnableLdap").then((function(e){t.enableLdap=e.enableLdap||!1})).catch((function(t){}))},login:function(){var t=this;if(this.$refs.form.validate()){var e=this.password;this.enableLdap&&"admin"!=this.uid||(e=c()(this.password));var n=this.$Loading.show();this.$ajax.postJSON("/server/api/login",{uid:this.uid,password:e,captcha:this.captcha}).then((function(e){n.hide();var i=t.redirectUrl,r=i+(-1===i.indexOf("?")?"?":"&")+"ticket="+e.ticket;location.href=r})).catch((function(e){n.hide(),t.$tip.error("".concat(t.$t("login.loginFailed"),": ").concat(e.err_msg||e.message))}))}},getQueryParam:function(t,e){if(!t)return e;var n=e,i=window.location.search?window.location.search.substr(1):"";return i&&i.split("&").forEach((function(e){var i=e.split("=");i[0]==t&&(n=decodeURIComponent(i[1]))})),n},reloadCaptcha:function(){this.captchaUrl="/web/captcha?".concat(Math.random())}},mounted:function(){this.uid=this.getQueryParam("user",""),this.checkEnableLdap()}},s=u,p=n(43736),d=(0,p.Z)(s,r,a,!1,null,null,null),f=d.exports,h=n(94471),g=n(64720),m=n.n(g);i["default"].config.productionTip=!1,h.U4.call(void 0).then((function(){i["default"].use(m(),{i18n:function(t,e){return h.ag.t(t,e)}}),new i["default"]({el:"#login-app",i18n:h.ag,components:{login:f},template:"<login/>"})}))}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,i,r,a){if(!i){var o=1/0;for(s=0;s<t.length;s++){i=t[s][0],r=t[s][1],a=t[s][2];for(var l=!0,c=0;c<i.length;c++)(!1&a||o>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[c])}))?i.splice(c--,1):(l=!1,a<o&&(o=a));if(l){t.splice(s--,1);var u=r();void 0!==u&&(e=u)}}return e}a=a||0;for(var s=t.length;s>0&&t[s-1][2]>a;s--)t[s]=t[s-1];t[s]=[i,r,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){n.j=535}(),function(){n.p="/"}(),function(){var t={535:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var r,a,o=i[0],l=i[1],c=i[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(c)var s=c(n)}for(e&&e(i);u<o.length;u++)a=o[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(s)},i=self["webpackChunkclient"]=self["webpackChunkclient"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998,64],(function(){return n(4936)}));i=n.O(i)})();