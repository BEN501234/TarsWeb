(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"00b0":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("let-select",{ref:"localSelect",attrs:{clearable:!1,size:"small"},on:{change:e.changeLocale},model:{value:e.locale,callback:function(t){e.locale=t},expression:"locale"}},[e._l(e.localeMessages,(function(t){return[a("let-option",{key:t.localeCode,attrs:{value:t.localeCode}},[e._v(e._s(t.localeName))])]}))],2)],1)},n=[],o=a("f51c"),s={data:function(){return{locale:this.$cookie.get("locale")||"cn",localeMessages:o["c"]}},methods:{changeLocale:function(){this.$cookie.set("locale",this.locale,{expires:"1Y"}),location.reload()}}},i=s,l=a("2877"),c=Object(l["a"])(i,r,n,!1,null,null,null);t["a"]=c.exports},"04b0":function(e,t,a){"use strict";var r=a("a4e9"),n=a.n(r);n.a},"0a5e":function(e,t,a){e.exports=a.p+"static/img/zoom-in.a42f35f1.svg"},"0abb":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"compare-chart"},[a("ve-line",e._b({},"ve-line",e.chartOptions,!1)),a("a",{staticClass:"compare-chart-zoom-in",attrs:{href:"javascript:"},on:{click:function(t){e.enlarge=!0}}},[a("icon",{attrs:{name:"zoom-in"}})],1),a("let-modal",{attrs:{width:"80%"},on:{close:function(t){e.enlarge=!1}},model:{value:e.enlarge,callback:function(t){e.enlarge=t},expression:"enlarge"}},[e.enlarge?a("ve-line",e._b({},"ve-line",e.largeChartOptions,!1)):e._e(),a("div",{attrs:{slot:"foot"},slot:"foot"})],1)],1)},n=[],o=(a("4160"),a("b0c0"),a("159b"),a("a026")),s=(a("627c"),a("0a6d"),a("ba1a")),i=a.n(s);o["default"].component(i.a.name,i.a);a("0a5e");var l={props:{title:String,timeColumn:String,dataColumns:Array,data:Array},data:function(){return{enlarge:!1}},computed:{chartOptions:function(){var e={},t=[this.timeColumn];return this.dataColumns.forEach((function(a){var r=a.name,n=a.label;e[r]=n,t.push(r)})),{title:{show:!0,text:this.title},grid:{bottom:40,top:50},legend:{top:5},colors:["#f56c77","#6accab"],settings:{labelMap:e,scale:[!0,!1],lineStyle:{width:1}},dataZoom:[{type:"inside",show:!0,xAxisIndex:[0],zoomOnMouseWheel:!0,start:0,end:100}],data:{columns:t,rows:this.data}}},largeChartOptions:function(){var e={},t=[this.timeColumn];return this.dataColumns.forEach((function(a){var r=a.name,n=a.label;e[r]=n,t.push(r)})),{title:{show:!0,text:this.title,left:"center",top:"bottom"},grid:{bottom:40,top:50},legend:{top:5},colors:["#f56c77","#6accab"],settings:{labelMap:e,scale:[!0,!1],lineStyle:{width:1}},data:{columns:t,rows:this.data},dataZoom:[{type:"inside",minValueSpan:12,zoomOnMouseWheel:"alt"},{minValueSpan:12}]}}}},c=l,u=(a("29ab"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,null,null);t["a"]=d.exports},"0b18":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hours-filter"},[a("h4",[e._v(e._s(e.title))]),a("ul",e._l(e.hours,(function(t){return a("li",{key:t.val,class:{active:t.val===e.value},on:{click:function(a){return e.onChange(t.val)}}},[e._v(e._s(t.txt)+" ")])})),0)])},n=[],o=(a("99af"),a("d81d"),a("fb6a"),a("a9e3"),Array.apply(null,{length:24}).map((function(e,t){return t}))),s=o.map((function(e){return{val:e,txt:"0".concat(e).slice(-2)}})),i=[{val:-1,txt:"all"}].concat(s),l={name:"HoursFilter",props:{title:{type:String,default:""},value:Number},filters:{format:function(e){return"0".concat(e).slice(-2)}},data:function(){return{hours:i}},methods:{onChange:function(e){this.$emit("input",e)}}},c=l,u=(a("25d5"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,null,null);t["a"]=d.exports},1:function(e,t){},1342:function(e,t,a){},"13e1":function(e,t,a){"use strict";var r=a("5d02"),n=a.n(r);n.a},1817:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsBAMAAADsqkcyAAAAIVBMVEUAAACZsuGasuCbtuRFf/WZseD////q8P3z9vt6o/e2x+iGuTfsAAAABHRSTlMA6aYc+fzKlQAAAGFJREFUKM9jgIBQBEIA+gszK4YiASEDqLBhKAoQhgqrrkhDAl1BUGHRNmThjECYfWkuSCAtFI8w0A50YSDAIUyC2SPOJdMrsZpdlk6MMMIQOoYJZvLBl9gwkybuhDx4choAeHa83egTBYcAAAAASUVORK5CYII="},"1ca6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAoCAMAAACyy+glAAAA81BMVEUAAACNpf+ky/+ZsuFFgPaasuJoiv9GgPZHgfZGgPWasuJGgPVKgvdMgf9FgPaZsuBGgPWZseFFgPZFgPaas+FHgPdGgfZHgPabs+JIgflGgf+gu+lQh/9FgPWasuBFgPZFgPZFgPWasuFFgPZGgPWas+FGgPaZsuFGgfaas+FGgfZGgPiatOGcteVIgvqduOVFgPWasuGasuGasuFGgPWasuFFgPaZsuJHgfZGgPeZseFGgfeasuKasuNHgfectuKbs+RIgfids+GZseGZsuCZseBFgPaaseFGgPaZseFFgPZGgPZGgPagtOeZs+ZFf/WZseByc+/7AAAAT3RSTlMABAH493gHUTS5k4IcEvvx6d7Wyn99dE5DKRYQDO7p5eDSsqagiGxrZ2ZURjswLxzxycCfmpmJcG9hX1xWST4rJSMh7NDOwLuuqpOPOhkKbHRT8QAAAbxJREFUOMut1Gl3wUAUxvEniQRB0VZROy0tSvd9Qfd17vf/NBUycZmp40V/L3P+52RyMzP4P0Yku9fOO6uk8VhFeHZWaLMlMbG+zR4+uPY3VBmhabsWkeX2F9uwrsUReayz0fx6D6dtKA8uTVOWDeZcTJ1izi5Jd2xmKT/eg8/JFAEUkjJ+NiFFhC8m26i4x9gmSQeQ2jKuGbIVVxgrPKrxpZA+vToxbkUGHttv6wjciMDGZTuWmi3/xx9IssvWrOpgou+WiY7fybqb/RJFqBiMqpszzTOybjFxH1LjHSgj358s4lBt13oslJ9qA/mSUG1BsU+bGFY0bQMaA8SrmjVsmdBJ1NQ5NCLQKm7MLbTTjDWzCeg5L/zlV8tPc5S/Pby0NRu87QCFJfEpa0tfQC7pGn+156xN9YBbi+ior28zrK0OgRZ5yjld22TtepydTVv9ITesrW3DOKFAffE7w2vsbCRg1olJH4CLsA0c9Xb5NXHJBx6zn/zm+PuPe+K7hx0IOdkWcSN2swXthwnpgscDzFTZBaSryw6/uLVnxyapNT+6lBCVMBh+s7mLu7OXNwB9fWJiJbnX9PE1fL8fY9HHKD9QSQAAAABJRU5ErkJggg=="},"25d5":function(e,t,a){"use strict";var r=a("1342"),n=a.n(r);n.a},2699:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l}));a("4160"),a("b64b"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("1276"),a("159b");var r=1e3,n=60*r,o=60*n,s=24*o;function i(e){return null==e?new Date:e instanceof Date?e:new Date(e)}function l(e,t){if(e=i(e),t=t||"YYYY-MM-DD HH:mm:ss",isNaN(e.getTime()))return t;var a={"M+":e.getMonth()+1,"D+":e.getDate(),"H+":e.getHours(),"h+":e.getHours()%12===0?12:e.getHours()%12,"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};return/(Y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(dd+)/.test(t)&&(t=t.replace(RegExp.$1,"日一二三四五六七".split("")[e.getDay()])),Object.keys(a).forEach((function(e){if(new RegExp("("+e+")").test(t)){var r=RegExp.$1,n="".concat(a[e]);t=t.replace(r,1===r.length?n:"00".concat(n).substr(n.length))}})),t}},"29ab":function(e,t,a){"use strict";var r=a("6663"),n=a.n(r);n.a},"2d43":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"progressTable"},[a("let-table",{ref:"ProgressTable",attrs:{data:e.items,"empty-msg":e.$t("common.nodata")}},[a("let-table-column",{attrs:{title:e.$t("service.serverName"),prop:"server_name",width:"30%"}}),a("let-table-column",{attrs:{title:e.$t("service.serverIp"),prop:"node_name",width:"30%"}}),a("let-table-column",{attrs:{title:e.$t("common.status")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("let-tag",{attrs:{theme:2==t.row.status?"success":3==t.row.status?"danger":"",checked:""}},[e._v(" "+e._s(e.statusConfig[t.row.status]+(2!=t.row.status&&3!=t.row.status&&4!=t.row.status?"...":""))+" ")])]}}])})],1),a("p",{ref:"progressTip"},[e._v(e._s(e.$t(e.success?"dcache.executeSuccess":"dcache.execute")))])],1)},n=[],o=(a("4160"),a("caad"),a("a9e3"),a("159b"),a("96cf"),a("1da1")),s=a("393d"),i={props:{releaseId:{type:[Number,String],required:!0}},data:function(){return{items:[],timer:"",progressTip:"",success:!1,statusConfig:{0:this.$t("serverList.restart.notStart"),1:this.$t("serverList.restart.running"),2:this.$t("serverList.restart.success"),3:this.$t("serverList.restart.failed"),4:this.$t("serverList.restart.cancel"),5:this.$t("serverList.restart.pauseFlow")}}},methods:{getProgress:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(s["q"])({releaseId:e.releaseId});case 3:a=t.sent,r=a.items,a.serial,a.status,a.task_no,e.items=r,n=!0,r.forEach((function(e){return[2,3,4].includes(e.status)?"":n=!1})),n?(e.timer&&window.clearTimeout(e.timer),e.success=!0,e.$emit("done-fn")):e.timer=window.setTimeout(e.getProgress,1e3),t.next=19;break;case 14:t.prev=14,t.t0=t["catch"](0),e.success=!0,console.error(t.t0),e.$tip.error(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[0,14]])})))()}},created:function(){this.getProgress()},destroyed:function(){this.timer&&window.clearTimeout(this.timer),this.$emit("close-fn")}},l=i,c=(a("5236"),a("2877")),u=Object(c["a"])(l,r,n,!1,null,"99a14be8",null);t["a"]=u.exports},"33c3":function(e,t,a){"use strict";var r=a("4d7d"),n=a.n(r);n.a},3430:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("let-form",{attrs:{inline:"",itemWidth:"600px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("let-form-item",{attrs:{label:e.$t("user.op")}},[a("let-input",{attrs:{type:"textarea",disabled:!e.hasAuth},model:{value:e.operator,callback:function(t){e.operator=t},expression:"operator"}})],1),a("let-form-item",{attrs:{label:e.$t("user.dev")}},[a("let-input",{attrs:{type:"textarea",disabled:!e.hasAuth},model:{value:e.developer,callback:function(t){e.developer=t},expression:"developer"}})],1),a("let-form-item",[e.hasAuth?a("let-button",{attrs:{type:"submit",theme:"primary"}},[e._v(e._s(e.$t("common.submit")))]):e._e()],1)],1)],1)},n=[],o=(a("99af"),a("a15b"),{name:"ServerUserManage",data:function(){return{serverData:Object.assign({},this.$parent.getServerData()),developer:"",operator:"",hasAuth:!1}},mounted:function(){this.checkHasAuth(),this.getAuthList()},methods:{checkHasAuth:function(){var e=this;this.$ajax.getJSON("/server/api/has_auth",{application:this.serverData.application,server_name:this.serverData.server_name,role:"developer"}).then((function(t){e.hasAuth=t.has_auth||!1})).catch((function(t){e.$tip.error("".concat(e.$t("common.error"),": ").concat(t.message||t.err_msg))}))},getAuthList:function(){var e=this;this.$ajax.getJSON("/server/api/get_auth_list",{application:this.serverData.application,server_name:this.serverData.server_name}).then((function(t){e.operator=(t.operator||[]).join(";"),e.developer=(t.developer||[]).join(";")})).catch((function(t){e.$tip.error("".concat(e.$t("common.error"),": ").concat(t.message||t.err_msg))}))},save:function(){var e=this,t=this.$Loading.show();this.$ajax.postJSON("/server/api/update_auth",{application:this.serverData.application,server_name:this.serverData.server_name,operator:this.operator,developer:this.developer}).then((function(a){t.hide(),e.$tip.success("".concat(e.$t("common.success")))})).catch((function(a){t.hide(),e.$tip.error("".concat(e.$t("common.error"),": ").concat(a.message||a.err_msg))}))}}}),s=o,i=(a("13e1"),a("2877")),l=Object(i["a"])(s,r,n,!1,null,null,null);t["a"]=l.exports},"346f":function(e,t,a){},3689:function(e,t,a){"use strict";var r=a("762d"),n=a.n(r);n.a},"393d":function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"bb",(function(){return u})),a.d(t,"cb",(function(){return d})),a.d(t,"m",(function(){return m})),a.d(t,"q",(function(){return f})),a.d(t,"n",(function(){return h})),a.d(t,"r",(function(){return p})),a.d(t,"X",(function(){return g})),a.d(t,"w",(function(){return v})),a.d(t,"c",(function(){return b})),a.d(t,"v",(function(){return y})),a.d(t,"Z",(function(){return w})),a.d(t,"Y",(function(){return _})),a.d(t,"p",(function(){return k})),a.d(t,"u",(function(){return C})),a.d(t,"db",(function(){return x})),a.d(t,"g",(function(){return S})),a.d(t,"i",(function(){return D})),a.d(t,"h",(function(){return M})),a.d(t,"s",(function(){return j})),a.d(t,"t",(function(){return A})),a.d(t,"W",(function(){return N})),a.d(t,"a",(function(){return F})),a.d(t,"j",(function(){return I})),a.d(t,"k",(function(){return $})),a.d(t,"ab",(function(){return R})),a.d(t,"l",(function(){return O})),a.d(t,"f",(function(){return E})),a.d(t,"b",(function(){return L})),a.d(t,"e",(function(){return T})),a.d(t,"o",(function(){return G})),a.d(t,"C",(function(){return B})),a.d(t,"D",(function(){return z})),a.d(t,"G",(function(){return Z})),a.d(t,"E",(function(){return J})),a.d(t,"F",(function(){return U})),a.d(t,"x",(function(){return Y})),a.d(t,"y",(function(){return H})),a.d(t,"B",(function(){return P})),a.d(t,"z",(function(){return W})),a.d(t,"A",(function(){return V})),a.d(t,"H",(function(){return q})),a.d(t,"I",(function(){return Q})),a.d(t,"L",(function(){return X})),a.d(t,"J",(function(){return K})),a.d(t,"K",(function(){return ee})),a.d(t,"M",(function(){return te})),a.d(t,"N",(function(){return ae})),a.d(t,"Q",(function(){return re})),a.d(t,"O",(function(){return ne})),a.d(t,"P",(function(){return oe})),a.d(t,"R",(function(){return se})),a.d(t,"S",(function(){return ie})),a.d(t,"V",(function(){return le})),a.d(t,"T",(function(){return ce})),a.d(t,"U",(function(){return ue}));a("ac1f"),a("5319");var r=a("bc3a"),n=a.n(r),o=a("4328"),s=a.n(o),i=n.a.create({baseURL:"/pages/server/api",timeout:25e3,transformRequest:[function(e,t){return"multipart/form-data"===t["Content-Type"]?e:"application/json"===t["Content-Type"]?JSON.stringify(e):s.a.stringify(e)}]});i.interceptors.request.use((function(e){return e}),(function(e){throw new Error(e)})),i.interceptors.response.use((function(e){var t=e.data;if(200===t.ret_code)return t.data;throw new Error(t.err_msg)}),(function(e){throw new Error(e)}));var l=i;function c(e){var t=e.servers,a=e.appName,r=e.moduleName,n=e.status,o=void 0===n?"1":n,s=e.cache_version,i=e.srcGroupName,c=void 0===i?[]:i,u=e.dstGroupName,d=void 0===u?[]:u;return l({method:"post",url:"/cache/expandModule",data:{appName:a,moduleName:r,servers:t,status:o,cache_version:s,srcGroupName:c,dstGroupName:d}})}function u(e){var t=e.servers,a=e.appName,r=e.moduleName,n=e.cache_version,o=e.srcGroupName,s=e.dstGroupName,i=e.transferData;return l({method:"post",url:"/cache/transferDCache",data:{servers:t,appName:a,moduleName:r,cache_version:n,srcGroupName:o,dstGroupName:s,transferData:i}})}function d(e){var t=e.appName,a=e.moduleName,r=e.srcGroupName,n=e.dstGroupName,o=e.transferData;return l({method:"post",url:"/cache/transferDCacheGroup",data:{appName:t,moduleName:a,srcGroupName:r,dstGroupName:n,transferData:o},headers:{"Content-Type":"application/json"}})}function m(e){var t=e.releaseId;return l({method:"get",url:"/cache/getReleaseProgress",params:{releaseId:t}})}function f(e){var t=e.releaseId;return l({method:"get",url:"/task",params:{task_no:t}})}function h(e){var t=e.type,a=void 0===t?"1":t;return l({method:"get",url:"/cache/getRouterChange",params:{type:a}})}function p(e){var t=e.appName,a=e.moduleName,r=e.type,n=e.srcGroupName;return l({method:"get",url:"/cache/hasOperation",params:{appName:t,moduleName:a,type:r,srcGroupName:n}})}function g(e){var t=e.appName,a=void 0===t?"":t,r=e.moduleName,n=void 0===r?"":r,o=e.type,s=void 0===o?"1":o,i=e.srcGroupName,c=void 0===i?[]:i,u=e.dstGroupName,d=void 0===u?[]:u;return l({method:"post",url:"/cache/stopTransfer",data:{appName:a,moduleName:n,type:s,srcGroupName:c,dstGroupName:d}})}function v(e){var t=e.appName,a=void 0===t?"":t,r=e.moduleName,n=void 0===r?"":r,o=e.type,s=void 0===o?"1":o,i=e.srcGroupName,c=void 0===i?[]:i,u=e.dstGroupName,d=void 0===u?[]:u;return l({method:"post",url:"/cache/restartTransfer",data:{appName:a,moduleName:n,type:s,srcGroupName:c,dstGroupName:d}})}function b(e){var t=e.appName,a=void 0===t?"":t,r=e.moduleName,n=void 0===r?"":r,o=e.type,s=void 0===o?"1":o,i=e.srcGroupName,c=void 0===i?[]:i,u=e.dstGroupName,d=void 0===u?[]:u;return l({method:"post",url:"/cache/deleteTransfer",data:{appName:a,moduleName:n,type:s,srcGroupName:c,dstGroupName:d}})}function y(e){var t=e.appName,a=void 0===t?"":t,r=e.moduleName,n=void 0===r?"":r,o=e.srcGroupName,s=void 0===o?[]:o;return l({method:"post",url:"/cache/reduceDcache",data:{appName:a,moduleName:n,srcGroupName:s}})}function w(e){var t=e.appName,a=void 0===t?"":t,r=e.moduleName,n=void 0===r?"":r,o=e.groupName,s=void 0===o?"":o;return l({method:"post",url:"/cache/switchServer",data:{appName:a,moduleName:n,groupName:s}})}function _(e){var t=e.appName,a=void 0===t?"":t,r=e.moduleName,n=void 0===r?"":r,o=e.groupName,s=void 0===o?"":o,i=e.imageIdc,c=void 0===i?"":i;return l({method:"post",url:"/cache/switchMIServer",data:{appName:a,moduleName:n,groupName:s,imageIdc:c}})}function k(e){var t=e.appName,a=void 0===t?"":t,r=e.moduleName,n=void 0===r?"":r,o=e.groupName,s=void 0===o?"":o;return l({method:"get",url:"/cache/getSwitchInfo",params:{appName:a,moduleName:n,groupName:s}})}function C(e){var t=e.appName,a=e.moduleName,r=e.groupName,n=e.mirrorIdc,o=e.dbFlag,s=e.enableErase;return l({method:"post",url:"/cache/recoverMirrorStatus",data:{appName:t,moduleName:a,groupName:r,mirrorIdc:n,dbFlag:o,enableErase:s}})}function x(e){var t=e.unType,a=e.appName,r=e.moduleName,n=e.serverNames;return l({method:"post",url:"/cache/uninstall4DCache",data:{unType:t,appName:a,moduleName:r,serverNames:n}})}function S(e){var t=e.appName,a=e.moduleName;return l({method:"get",url:"/cache/getCacheServerList",params:{appName:t,moduleName:a}})}function D(e){var t=e.appName,a=e.moduleName;return l({method:"get",url:"/cache/getModuleConfig",params:{appName:t,moduleName:a}})}function M(){return l({method:"get",url:"/cache/getConfig"})}function j(e){var t=e.applyId,a=e.replace;return l({method:"get",url:"/cache/install_and_publish",params:{applyId:t,replace:a}})}function A(e){var t=e.thedate,a=e.predate,r=e.startshowtime,n=e.endshowtime,o=e.moduleName,s=e.serverName;return l({method:"get",url:"/cache/queryProperptyData",params:{thedate:t,predate:a,startshowtime:r,endshowtime:n,moduleName:o,serverName:s}})}function N(e){var t=e.application,a=void 0===t?"DCache":t,r=e.moduleName,n=void 0===r?"DCacheServerGroup":r,o=e.currPage,s=void 0===o?1:o,i=e.pageSize,c=void 0===i?5:i,u=e.cacheVersion;return l({method:"get",url:"/server_patch_list",params:{application:a,module_name:n,curr_page:s,page_size:c,package_type:u}})}function F(e){var t=e.serial,a=void 0!==t&&t,r=e.elegant,n=void 0!==r&&r,o=e.eachnum,s=void 0===o?1:o,i=e.items,c=void 0===i?[{server_id:"",command:"patch_tars",parameters:{patch_id:0,bak_flag:"",group_name:""}}]:i;return l({method:"post",url:"/add_task",data:{serial:a,elegant:n,eachnum:s,items:c},headers:{"Content-Type":"application/json"}})}function I(e){var t=e.moduleId;return l({method:"get",url:"/get_module_config_info",params:{moduleId:t}})}function $(e){var t=e.module_name;return l({method:"get",url:"/get_module_group",params:{module_name:t}})}function R(){return l({method:"get",url:"/template_name_list",params:{}})}function O(){return l({method:"get",url:"/get_region_list"})}function E(e){var t=e.application,a=void 0===t?"":t,r=e.server_name,n=void 0===r?"":r,o=e.set,s=void 0===o?"":o,i=e.node_name,c=void 0===i?"":i,u=e.expand_nodes,d=void 0===u?[""]:u,m=e.enable_set,f=void 0!==m&&m,h=e.set_name,p=void 0===h?"":h,g=e.set_area,v=void 0===g?"":g,b=e.set_group,y=void 0===b?"":b,w=e.copy_node_config,_=void 0!==w&&w;return l({method:"post",url:"/expand_server_preview",data:{application:a,server_name:n,set:s,node_name:c,expand_nodes:d,enable_set:f,set_name:p,set_area:v,set_group:y,copy_node_config:_},headers:{"Content-Type":"application/json"}})}function L(e){var t=e.node_name;return l({method:"get",url:"/auto_port",params:{node_name:t}})}function T(e){var t=e.application,a=void 0===t?"":t,r=e.server_name,n=void 0===r?"":r,o=e.set,s=void 0===o?"":o,i=e.node_name,c=void 0===i?"":i,u=e.copy_node_config,d=void 0!==u&&u,m=e.expand_preview_servers,f=void 0===m?[{bind_ip:"",node_name:"",obj_name:"",port:"",set:""}]:m;return l({method:"post",url:"/expand_server",data:{application:a,server_name:n,set:s,node_name:c,copy_node_config:d,expand_preview_servers:f},headers:{"Content-Type":"application/json"}})}function G(){return l({method:"get",url:"/routerTree"})}function B(e){var t=e.data,a=void 0===t?{}:t;return l({method:"post",url:"/routerModule/create",data:a})}function z(e){var t=e.data,a=void 0===t?{}:t;return l({method:"post",url:"/routerModule/delete",data:a})}function Z(e){var t=e.data,a=void 0===t?{}:t;return l({method:"post",url:"/routerModule/update",data:a})}function J(e){var t=e.data,a=void 0===t?{}:t;return l({method:"get",url:"/routerModule/find",params:a})}function U(e){var t=e.data,a=void 0===t?{}:t;return l({method:"get",url:"/routerModule/list",params:a})}function Y(e){var t=e.data,a=void 0===t?{}:t;return l({method:"post",url:"/routerGroup/create",data:a})}function H(e){var t=e.data,a=void 0===t?{}:t;return l({method:"post",url:"/routerGroup/delete",data:a})}function P(e){var t=e.data,a=void 0===t?{}:t;return l({method:"post",url:"/routerGroup/update",data:a})}function W(e){var t=e.data,a=void 0===t?{}:t;return l({method:"get",url:"/routerGroup/find",params:a})}function V(e){var t=e.data,a=void 0===t?{}:t;return l({method:"get",url:"/routerGroup/list",params:a})}function q(e){var t=e.data,a=void 0===t?{}:t;return l({method:"post",url:"/routerRecord/create",data:a})}function Q(e){var t=e.data,a=void 0===t?{}:t;return l({method:"post",url:"/routerRecord/delete",data:a})}function X(e){var t=e.data,a=void 0===t?{}:t;return l({method:"post",url:"/routerRecord/update",data:a})}function K(e){var t=e.data,a=void 0===t?{}:t;return l({method:"get",url:"/routerRecord/find",params:a})}function ee(e){var t=e.data,a=void 0===t?{}:t;return l({method:"get",url:"/routerRecord/list",params:a})}function te(e){var t=e.data,a=void 0===t?{}:t;return l({method:"post",url:"/routerServer/create",data:a})}function ae(e){var t=e.data,a=void 0===t?{}:t;return l({method:"post",url:"/routerServer/delete",data:a})}function re(e){var t=e.data,a=void 0===t?{}:t;return l({method:"post",url:"/routerServer/update",data:a})}function ne(e){var t=e.data,a=void 0===t?{}:t;return l({method:"get",url:"/routerServer/find",params:a})}function oe(e){var t=e.data,a=void 0===t?{}:t;return l({method:"get",url:"/routerServer/list",params:a})}function se(e){var t=e.data,a=void 0===t?{}:t;return l({method:"post",url:"/routerTransfer/create",data:a})}function ie(e){var t=e.data,a=void 0===t?{}:t;return l({method:"post",url:"/routerTransfer/delete",data:a})}function le(e){var t=e.data,a=void 0===t?{}:t;return l({method:"post",url:"/routerTransfer/udpate",data:a})}function ce(e){var t=e.data,a=void 0===t?{}:t;return l({method:"get",url:"/routerTransfer/find",params:a})}function ue(e){var t=e.data,a=void 0===t?{}:t;return l({method:"get",url:"/routerTransfer/list",params:a})}},"3e1a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1ZDFiOTQyYS0zZWUyLTkxNGQtOTBiYS1iZTVkYzNjOTU1OTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzZBQzM5NkM2MUUwMTFFQUE2QjFBQzg4RDAwMDRCRDQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzZBQzM5NkI2MUUwMTFFQUE2QjFBQzg4RDAwMDRCRDQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjEwODNhYzItNzY4Yy02MjRkLWEyYWMtYTFiMTdmOTZhZmZhIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NzRmMzZhYTgtODFhOC04ZTQ5LWExN2UtMDI2MDYwMWE2ZGMwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FAOt6wAAAWlJREFUeNrsWUEOwiAQhIY3mNSLj/CqD/DiyR9YX2X8gScP+gD16CM8WBs/gTRBU5ulLlCgVTbZNC2ddroMC0sp55z0yRLSM+sdYWYKXO+u5WEmfCM8RcLuwpfCD6v5KEiEdcgSee8mSIQrBMj2MqCYmxfjB9f8QKcaLuWRC+c1z2Vb5wadSh7WMnBFODVsi3k4Eu4K4XtDW9FFwpmC2E3ObmGnZsD2bWYDV4RLGaRyBsNaEVISmSYBa3kwRzJ4RZy2LQnadsUhl51vwqbLyJ/Jw8oIy0iZmrUkVD3DkC+2Ja4dyL+r6agnSfCfG3T9zBINGYEHkgRVZY7kSwFZfZCqoISwdRwWC+E+sK8I55qbIcPKuTesiPCQ6ewvVPcVyu6RUvKKhQbdEeiSIzIKzrEQ4QnyGgmBjXk4EkYQPgHXzsjnOcdCi5+pRQCcY5lB9VtYVM7W2ESz+oWqXq9YGn97RcKRsF97CjAAb0qmeUJR5DMAAAAASUVORK5CYII="},4201:function(e,t,a){"use strict";var r=a("98c9"),n=a.n(r);n.a},4290:function(e,t,a){"use strict";var r=a("c44a"),n=a.n(r);n.a},"42a1":function(e,t,a){"use strict";a("b0c0");var r=a("a026"),n=a("1861"),o=a.n(n),s=(a("8c47"),a("00e7")),i=a.n(s),l=(a("6609"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{staticClass:"icon"},[a("use",{attrs:{"xlink:href":"#"+e.name}})])}),c=[],u={name:"Icon",props:{name:{type:String,required:!0}}},d=u,m=(a("e166"),a("2877")),f=Object(m["a"])(d,l,c,!1,null,null,null),h=f.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("let-form-item",{staticClass:"tars-form-item"},[a("label",{staticClass:"let-form-item__label let-label__position_top clickable",on:{click:function(t){return e.$emit("onLabelClick")}}},[e._v(e._s(e.label))]),e._t("default")],2)},g=[],v={name:"TarsFormItem",props:{label:String}},b=v,y=(a("04b0"),Object(m["a"])(b,p,g,!1,null,null,null)),w=y.exports,_=a("0c80"),k=a.n(_),C=a("c400"),x=a.n(C),S=a("5c96");function D(){this.loading=null}r["default"].use(o.a,{locale:{en:x.a,cn:k.a}[i.a.get("locale")||"cn"]||k.a}),r["default"].component(h.name,h),r["default"].component(w.name,w),D.prototype.show=function(e){this.loading&&this.hide();var t=S["Loading"].service({fullscreen:!0,text:e||"Loading",background:"rgba(0,0,0,0)"});return this.loading=t,this},D.prototype.hide=function(){return this.loading&&(this.loading.close(),this.loading=null),this},D.show=function(e){return D._loading||(D._loading=new D),D._loading.show(e)},D.hide=function(){return D._loading||(D._loading=new D),D._loading.hide()},Object.defineProperty(r["default"].prototype,"$Loading",{get:function(){return this._loading||(this._loading=new D),this._loading},set:function(e){}}),Object.defineProperty(r["default"].prototype,"$loading",{get:function(){return this._loading||(this._loading=new D),this._loading},set:function(e){}});var M={error:function(e){r["default"].prototype.$message({showClose:!0,message:e,type:"error"})},success:function(e){r["default"].prototype.$message({showClose:!0,message:e,type:"success"})},warning:function(e){r["default"].prototype.$message({showClose:!0,message:e,type:"warning"})}};Object.defineProperty(r["default"].prototype,"$tip",{get:function(){return M},set:function(e){}})},"42a2a":function(e,t,a){"use strict";a("b0c0");var r=a("a026"),n=a("2f62");r["default"].use(n["a"]);var o=new n["a"].Store({state:{name:"",marketUid:"",version:""},mutations:{increment:function(e,t){e.name=t},quit:function(e){e.marketUid="",window.localStorage.uid="",window.localStorage.ticket=""},marketUid:function(e,t){e.marketUid=t},version:function(e,t,a){e.version=t.version,window.localStorage.version=t.version,a&&(window.localStorage.framework_version=t.framework_version)}}});t["a"]=o},4527:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page_server_property_monitor"},[a("let-form",{attrs:{inline:"",itemWidth:"200px"},nativeOn:{submit:function(t){return t.preventDefault(),e.search(t)}}},[a("let-form-group",[a("let-form-item",{attrs:{label:e.$t("monitor.search.a")}},[a("let-date-picker",{attrs:{size:"small",formatter:e.formatter},model:{value:e.query.thedate,callback:function(t){e.$set(e.query,"thedate",t)},expression:"query.thedate"}})],1),a("let-form-item",{attrs:{label:e.$t("monitor.search.b")}},[a("let-date-picker",{attrs:{size:"small",formatter:e.formatter},model:{value:e.query.predate,callback:function(t){e.$set(e.query,"predate",t)},expression:"query.predate"}})],1),a("let-form-item",{attrs:{label:e.$t("monitor.search.start")}},[a("let-input",{attrs:{size:"small"},model:{value:e.query.startshowtime,callback:function(t){e.$set(e.query,"startshowtime",t)},expression:"query.startshowtime"}})],1),a("let-form-item",{attrs:{label:e.$t("monitor.search.end")}},[a("let-input",{attrs:{size:"small"},model:{value:e.query.endshowtime,callback:function(t){e.$set(e.query,"endshowtime",t)},expression:"query.endshowtime"}})],1)],1),a("let-form-group",[a("tars-form-item",{attrs:{label:e.$t("monitor.search.master")},on:{onLabelClick:function(t){return e.groupBy("master_name")}}},[a("let-input",{attrs:{size:"small"},model:{value:e.query.master_name,callback:function(t){e.$set(e.query,"master_name",t)},expression:"query.master_name"}})],1),a("tars-form-item",{attrs:{label:e.$t("monitor.search.masterIP")},on:{onLabelClick:function(t){return e.groupBy("master_ip")}}},[a("let-input",{attrs:{size:"small"},model:{value:e.query.master_ip,callback:function(t){e.$set(e.query,"master_ip",t)},expression:"query.master_ip"}})],1),a("tars-form-item",{attrs:{label:e.$t("monitor.select.property")},on:{onLabelClick:function(t){return e.groupBy("property_name")}}},[a("let-input",{attrs:{size:"small"},model:{value:e.query.property_name,callback:function(t){e.$set(e.query,"property_name",t)},expression:"query.property_name"}})],1),a("tars-form-item",{attrs:{label:e.$t("monitor.select.strategy")},on:{onLabelClick:function(t){return e.groupBy("policy")}}},[a("let-input",{attrs:{size:"small"},model:{value:e.query.policy,callback:function(t){e.$set(e.query,"policy",t)},expression:"query.policy"}})],1),a("let-form-item",[a("el-button",{attrs:{size:"small",type:"primary",disabled:e.loading,icon:e.loading?"el-icon-loading":""},on:{click:e.search}},[e._v(e._s(e.$t("operate.search")))])],1)],1)],1),e.showChart?a("compare-chart",e._b({ref:"chart",staticClass:"chart"},"compare-chart",e.chartOptions,!1)):e._e(),e.enableHourFilter?a("hours-filter",{model:{value:e.hour,callback:function(t){e.hour=t},expression:"hour"}}):e._e(),a("let-table",{ref:"table",attrs:{data:e.pagedItems,"empty-msg":e.$t("common.nodata")}},[a("let-table-column",{attrs:{title:e.$t("common.time"),width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.show_time||t.row.show_date))]}}])}),a("let-table-column",{attrs:{title:e.$t("monitor.search.master")},scopedSlots:e._u([{key:"default",fn:function(t){return["%"!=t.row.master_name?a("span",[e._v(e._s(t.row.master_name))]):e._e(),"%"==t.row.master_name?a("span",{staticClass:"btn-link",on:{click:function(a){return e.groupBy("master_name",t.row)}}},[e._v(e._s(t.row.master_name))]):e._e()]}}])}),a("let-table-column",{attrs:{title:e.$t("monitor.search.masterIP"),width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return["%"!=t.row.master_ip?a("span",[e._v(e._s(t.row.master_ip))]):e._e(),"%"==t.row.master_ip?a("span",{staticClass:"btn-link",on:{click:function(a){return e.groupBy("master_ip",t.row)}}},[e._v(e._s(t.row.master_ip))]):e._e()]}}])}),a("let-table-column",{attrs:{title:e.$t("monitor.select.property"),width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return["%"!=t.row.property_name?a("span",[e._v(e._s(t.row.property_name))]):e._e(),"%"==t.row.property_name?a("span",{staticClass:"btn-link",on:{click:function(a){return e.groupBy("property_name",t.row)}}},[e._v(e._s(t.row.property_name))]):e._e()]}}])}),a("let-table-column",{attrs:{title:e.$t("monitor.select.strategy"),width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return["%"!=t.row.policy?a("span",[e._v(e._s(t.row.policy))]):e._e(),"%"==t.row.policy?a("span",{staticClass:"btn-link",on:{click:function(a){return e.groupBy("policy",t.row)}}},[e._v(e._s(t.row.policy))]):e._e()]}}])}),a("let-table-column",{attrs:{title:e.$t("monitor.property.property"),prop:"the_value",align:"right",width:"200px"}}),a("let-table-column",{attrs:{title:e.$t("monitor.property.propertyC"),prop:"pre_value",align:"right",width:"230px"}}),e.pageCount?a("let-pagination",{attrs:{slot:"pagination",total:e.pageCount,page:e.page,sum:e.itemsCount,"show-sums":"",jump:""},on:{change:e.changePage},slot:"pagination"}):e._e()],1)],1)},n=[],o=(a("99af"),a("4de4"),a("4160"),a("d81d"),a("fb6a"),a("b64b"),a("ac1f"),a("1276"),a("159b"),a("5530"),a("2699")),s=a("0b18"),i=a("0abb"),l=20,c="YYYYMMDD",u={name:"ServerPropertyMonitor",components:{HoursFilter:s["a"],CompareChart:i["a"]},data:function(){var e=this.treeid,t=e.split("."),a="",r=!0;return"/k8s.html"==location.pathname?(r=!0,2==t.length&&(a=t[0]+"."+t[1])):(r=!1,2==t.length?a=t[0].substring(1)+"."+t[1].substring(1):5==_slave_name_arr.length&&(a=t[0].substring(1)+"."+t[4].substring(1)+"."+t[1].substring(1)+t[2].substring(1)+t[3].substring(1))),{query:{thedate:Object(o["b"])(new Date,c),predate:Object(o["b"])(Date.now()-o["a"],c),startshowtime:"0000",endshowtime:"2360",master_name:a,master_ip:"",property_name:"",policy:"",group_by:"",k8s:r},loading:!1,formatter:c,allItems:[],hour:-1,page:1,showChart:!0}},props:["treeid"],computed:{enableHourFilter:function(){return this.allItems.length&&this.allItems[0].show_time},filteredItems:function(){var e=this.hour;return e>=0&&this.enableHourFilter?this.allItems.filter((function(t){return+t.show_time.slice(0,2)===e})):this.allItems},itemsCount:function(){return this.filteredItems.length},pageCount:function(){return Math.ceil(this.filteredItems.length/l)},pagedItems:function(){return this.filteredItems.slice(l*(this.page-1),l*this.page)},chartOptions:function(){return{title:this.$t("monitor.table.total"),timeColumn:"show_time",dataColumns:[{name:"the_value",label:this.$t("monitor.property.property")},{name:"pre_value",label:this.$t("monitor.property.propertyC")}],data:this.allItems}}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return this.loading=!0,this.$ajax.getJSON("/server/api/property_monitor_data",this.query).then((function(t){e.loading=!1,e.allItems=t})).catch((function(t){e.loading=!1,e.$tip.error("".concat(e.$t("common.error"),": ").concat(t.message||t.err_msg))}))},groupBy:function(e,t){this.query.group_by=e,this.showChart=!1,t&&(t.show_time&&(this.query.startshowtime=t.show_time,this.query.endshowtime=t.show_time),t.master_name&&"%"!=t.master_name&&(this.query.master_name=t.master_name),t.master_ip&&"%"!=t.master_ip&&(this.query.master_ip=t.master_ip),t.property_name&&"%"!=t.property_name&&(this.query.property_name=t.property_name),t.policy&&"%"!=t.policy&&(this.query.policy=t.policy)),this.fetchData()},search:function(){delete this.query.group_by,this.showChart=!0,this.fetchData()},changePage:function(e){this.page=e}}},d=u,m=(a("49de"),a("2877")),f=Object(m["a"])(d,r,n,!1,null,null,null);t["a"]=f.exports},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=o,e.exports=n,n.id="4678"},4824:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAADkCAMAAACCPk7wAAAB71BMVEUAAACLq/OXr+BOgv+ZsuGasuGas+FHgvibteSgtOSaseFGgPZFgPZFgPZFgPZFgPWasuFGgPZIgPZIgPhGgPaasuFGgPVGgPZGgPWasuGas+FFgPdFgPaZsuGZsuGasuDX4vbE0/Lt8vyZseBFf/VJzI9PaZ5QZ5ZMcLpUX3VMb7ZNba1Oa6ZVXW5ObKpQaJlLc8RLcsFPaqJSZIlRZY1RZpJSYoNUYHpVXGlPaJtUXnJJdtBRZZBKdcxLcb1WW2dVXGtNbrBSY4ZTYX1Jdc5NbrJVXnBKdMlTYoBJd9VRZItJdtJFfvBFf/RIeNpGfe1TYHxHeuFFjeJIed1SY4VJyJVIuKpGkN9Id9dKdMpGlNlKc8ZLcb9OaqRGn8tJypJGfOhGnc5Ho8ZQZpRHe+ZOa6hHsLRIvKVIvqJFi+VKc8dIxphGktxHrblItq1GfOpFiehGoclHq7xIwJ9IxJtFgfJHeuNHpcNNbrRNba9HsrJUX3dFhuxHtK9Iwp1TYX9IuqdPaaBTX3hFg/BMb7hHqb5Hr7dMcLxGl9ZGmdNHp8BGmNVFfvJFhe5Ied9FiOpHm9FGmtFHpsGiuOTc7vFRzpTT3/S8ze2swOi0xurL2fK75tqo4s+J2rl4169i0p98nNxmjNlWgNem4c3j6vmllDHDAAAAIHRSTlMACvcT5WpKNy8b0MSvlvftknJQI9yz0InnpIJg3cS8tkiDxQgAAAvDSURBVHja3JhPTxpRFMXnsxBTa0ErVgcU7dTyr5VOiykLCJCQgBs27giGhdGYsCF85t77PHjf5b3ppptXfplP8MvJuedN9K8kSVImvhCHRKPRuLi4OGAWz8/PpVKp3a5Wq4/fiDiOO53OV+ITcXNzSlwSZ8R4vM98JM7Pz98ZTpjhcFgoFO6OmPxRPp9/eLi+vq7X6/P5B+Ll5T2z/EwMioNi8Zjp96fTZrPZ610RtVqtUqm0Wq3vTLfb/Un8ZtbrW2Y2m00mk9FkNBrd3/9ifhhW6Srdi0JBRB8y5JmB6BJEk+lH9mxUv3mmz5g2nsfwTKJh+unpVXSBuTOq8wyLZtOkWUyz58GgSNiir8g0axbT3VfRUA3RMM2iiY3p1WqVpmkUCgkD0aT5sAHPlug2Es2WY5VoiCYQaDvR4lkizZ450nVibkRbiVaim1MT6N5WorsMNLNoo5o8E7bnIEWX/dWxWBjT7U2iYbqz8UxYnlV1ZCYagSa4Oua+6ih6qqOiTEui19BMbKoD3RFodSTwbERLokmzMQ3PsUFMnxp0R4tnEa08wzQC/WZ6iUDDdH8K0T14VqKlOWAazcGo6kjTwEQj0hJomEaiJdDeRKM6RLTujoI5hnZ1sGhCHcPlVqL7TXQHiTamW45odQyJ4BNdTuB5e3UsStLRiLR0NGnG7DhzV4ckemhXR97u6Ll0tCQ6a3XIMWSs6ljjFhJ2oJHosDo6gWhJNDraOoZVSTRWB0xfMuTZO++MaTvSMI2OlupYqmMI0YQSjXmn9t2tAfPOFo1ruBdUogmdaJl34hnzDjtajQ7GP+8YdLQ+hjI6VKLdeceiK2p2wLN0h5NomXeBdbQkers6EGlV0rqjsxMN0d7qqG+tjmXW6mDRrFlE6+pAoifW6vg/HizujtbH8G87mnF39Ak862OoOxqmiwxKGp4p0jXC6xkdnX0M03QVVEeXk4yX4cLtaC5peGZePZtE74/FM6oD1xAPFivSujsgGi/DY3mwsGq1OvwdPbu1qoMItzrYs+roAyRaNYeIVoEmVEcTkmiIlo5mvPPOfYKbdaeqQzzrfbfpaCboji4z8CzH0LwMIVre4HEs1ZE17wgEGreQ8FWHMZ21oxFoHEPPjkai1/JgCX1HI9JyC90drf/eYd6dqgdL5jH0rzupDnd14GkI0Ui0rg79906vjmBfhmW5hg363hJ94Oxo/fcOpv3zjpEHi2vaOYZ6R+Ov0pW8wdWDRUyv1Y6+V4kO66dSbseJQiG340ShkNtxolDI7ThRKOR2nCgUcjvOH3boHYWBIAaCqI5iGnRjTTS/YC9qDLYxXoVa6BV6WaUlLJCcsEBywgLJCQskJyyQnLBAcsICyQkLJCcskJywQHLCAj4ba7e21zDEeLxd3fcabVO/5md1jQ4f3Zv+aB0vNTp89KF/DgA1Onx015OOGh0+2pqeNKvR4aOnOmaNjh5t6rIaHTx6qGvU6ODRS12rRgeP3uraNfrJ3p3kKAwDURiuhG7opgd6HoWAFDdGQGAH4qDsEBZIiSO/gMvvP8K3AOclkgNDz89DzwlN6Dih+dNxiH+GJqB5vDuKDywGoPkIfhxHJQPQnEmdOPwbgOarLCe+nDUAzc8NnPgBjYEPaMwk11JhPLmWCuNJ+L6nTSqMJ4CeCH2aIHokdDvQ2QOhW4GWzhehW4GWzkdi0GvF9CIVvf8kBb1QTJ9SWW+QEPRYMfUzqSH9nAz0bqaQbu6lTm/JQIOc8zup138i0KVCyrtSt9ckoJeK6RY6e0yiq1RMf36zh3nolWL69Z09jEMvFdMw8549TEOjnPtZg9nDMjTyAO0/e9iFbvcAXT17WIUGOWtXmtUb2IQu1Ql9gA40e8R3n+FG3cDLaKjZI7r7DFHOI/HJf/aI7T7DrTqhD3bhZo/I7jPc5geayx/svGaPyO4z3LN3pj1NBVEAfYi7VK1LjMaYNq8qIFGrKIiKcQVEUErqAm4ssliK7BikUENYCrInCn7yAz/U2zD0to/y+p52JjNv5vyEk5vb09smk/DMRdjZOXuI9Z7hHx3hIexsnD2Ees8wyTMnYWf97CHSe4a0guMMi397CPSeIS3Pp7VskXt2Z9HivGdoCDval9Fsnz2Eec+Q37CzdvYQ5T3DKlqeTcIuq2cPQd4zrDYEB+WfvCmcPQR5z5DvsLNy9hDjPcNkzzyGnYWzhxDvGfIfdimcEvUPNB6dDudyNDq4xBS9oSfB0WXUhDwRRW/w9JO35bOHgKLX0A1vl1Gzs4dwotf1JHi7jJqdPQQTzcN/Rv+Jo7pQ/PJSwqVRJeekLhRej5cSvrwcjR4HDuoisfrbQ0+071CuRov9u3WRWP3poSnad+K4Roe9u3SRWAPPFEUDR/ZpNNijC8U6WKYqGjh8jLiROTc89EUDbg2QOzdYiAYg8yTPDUaiIfMkzw1WoiHz5M4NZqIh86TODXaiIfNkzg2GoiHzJM4NFqIRt7y5wUQ04pI2N1iJxsyTNDeYicbMkzM32InGzJMyNxiKxsyTMTdYisbMkzA3WIpG3PLlhplo+O/rk4JvJQ8rbz64XnznxsUrty5ce/fp8qX7Xwvzy99ebay4+6i66nXtQt1Q65fnz2oyi0Zc0uWGmeh7pZuix0H0UyK6qAhEPy7Mn/YnRNfXDX20LBozT7LcMBUNE11GJhpEtyQmGkSXo+gFW6Ix8+TKDXPRONHFONFJq+M2mWg7qwMzT6rcyLQ6yow7eku0399Y8SY+0fVkdfywKhozT6bcyDjRBSUvUDTuaPwwtD/RmHkS5YaV6hhPVx1+XB12dzTilic3rFRHJVbH9y3R0zDRn7cmutXmRCMuaXIj8+owTHTRtolesLejjZknSW7Yrg7jF5Za2zvamHly5EZG0VgdLTjR2fgwxMyTIjdMPwxL46sjdUfjN8P//jDEzJMhN1gdlcwzT4Lc4EE0ZJ7zc4MP0T6X43ODE9GQeQ7PDV5EQ+Y5Oze4EQ2Z5+jc4Ec0ZJ6Tc4Mj0ZB5Ds4NnkRj5tnCIxJeSmg2UaKVaCXaIxLEixJtQIlWopVoJZoHiBcl2oASrUQr0Uo0DxAvSrQBJVqJVqKVaB4gXpRoA0q0Eq1EK9E8QLw4S/R5wgcgGAyGQqGBgbGxsf7+/o6Ojvb29mj0JdDd3R2JjIyMtLVNTU2Fw+G+vsnJydmVleHh4ebm5t7e90ATsLwcm5ubm5lpaGjo6up6BQQCgc7Ozp6excXF0dH5+YmJwcHBGp8SDZ6BFNFR4jkCnoG46D4ARM8mRPduil5ajsVi4Hm7aDA9iqJr5BYdTDPRUSBpoono8KZnGGkU3QQsxU2nTHQgSbSaaKPogTSrI5IQHTaZ6J1XB+wONdFoOrR9R5OJxtVBTBt2tOXVMaEm+m87drTSQAxEYfgdBS14Z29aKYpUpSBbEYqwVmTtPrHJOpI2szG52Kyx/ecRPoaTOQlv9O1BdIiz22gHbaUjG7058Y2OXR1r7+pYWue27YkOMjoWHeIs0HN9dbjH0GW0fgw7Z73RnHfiHMzoC++8u1HQ1tltNOddakaLdHyj28DVwUZHoRfpd7Ta6Ngd3XB1qGYYuDrE2RUWldG7Hc0wdaMFOn5Hb/syWp13XB0JFdxldCA6dAUPFpaGZuii45cKrqHljk4tLA3N0EnvR4fc0e4t9JqhvqN7o+OMv46CR1yA9gZooIEGuoQRF6C9ARpooE8P+vvLf/HwfD+f2bK9fjI/zsvXdjW1JeTzrTbVY2JKx11VbR4DRQPoROhzDb1d2WJ9Zb6Xa4FugM4EPe02+v3yB/oD6KGgZ2qj96AroDNHBxk90kaT0cNv9MtBRnfQNdEx5HmnoeW8IzoGhdbR0UpGS3RcEx0ZH0MHPWGjcz6G3NEjFZZuo+sa6OzNkAqeLTo47/4kOsjoMaCNMxWcj3+ggf5HIy5AewM00EADXcKIC9DeAA000ECXMOICtDdAAw000CWMuADtDdBAAw10CSMuQHsDNNBAA13CiAvQ3hwt9BeZfObQe9dnUAAAAABJRU5ErkJggg=="},4998:function(e,t,a){},"49de":function(e,t,a){"use strict";var r=a("e15a"),n=a.n(r);n.a},"4ad0":function(e,t,a){"use strict";var r=a("d6c4"),n=a.n(r);n.a},"4d18":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1ZDFiOTQyYS0zZWUyLTkxNGQtOTBiYS1iZTVkYzNjOTU1OTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzY2QzI2NEY2MUUwMTFFQUE2QjFBQzg4RDAwMDRCRDQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzY2QzI2NEU2MUUwMTFFQUE2QjFBQzg4RDAwMDRCRDQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjEwODNhYzItNzY4Yy02MjRkLWEyYWMtYTFiMTdmOTZhZmZhIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NzRmMzZhYTgtODFhOC04ZTQ5LWExN2UtMDI2MDYwMWE2ZGMwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+5sw1KwAAAedJREFUeNpi/P//P8NQAkwMQwyMOnjUwWiAhRLNszc9ROayAXEGEEcCsQ5U7AoQLwfiGUD8C6Yw1U9+YByMBKSBeAsQG6CJW0BxIhD7APHTwZAk2JAcexuIQ4BYAIpDoGIgua1AzD4YHJwOddBNIDYD4rVA/BGK10LFQHL6QJxGqWWM2CoOtLRJCByHRnswEK/DoSYI6vgTQGxJrMHY0joTnmieCMTvgPg/AWwB1bMWj5q1SGmakHnvoHazkZLpuoA4b4BKLkGo3d+BuIJYB8dCads1Z8WO0NO1IcavbIDUYVCKwOZgXElCCERAHesJxM+IiEpKMcgOT6QAEiK3lJgLxJJ0CFxJqF0UF2uSdEwRktRw8GjjZ9TBQ715yThkHAwsxDHEgOUkA6l6BkOSOIyl4D88KJIEjhC1wSVGKAaIqJqpEsLoIYoLUFI1Hx5qpQQjtUoJcKsNS0gOSInCQmqagqbRI1jS8VF6lBLk9pptiVVI7WKQhdq5GE+mRY+RI6R4nNJijVRAdDFIq2KNVExMMTharFECqFYMstAok9GsGGShU3TbUssgXA5+B+1m20BDh2aNGSzAGskNRGe6xVQqHcjBsACaQ0oIl0EzRCx06Iie4D00wGqx5tLRaa9RB486mL4AIMAA17Dgy9SYTKQAAAAASUVORK5CYII="},"4d7d":function(e,t,a){},5236:function(e,t,a){"use strict";var r=a("72f1"),n=a.n(r);n.a},"559f":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app_index__footer"})},n=[],o={data:function(){return{thisYear:(new Date).getFullYear()}}},s=o,i=(a("e73b"),a("2877")),l=Object(i["a"])(s,r,n,!1,null,null,null);t["a"]=l.exports},"5d02":function(e,t,a){},"65f9":function(e,t,a){"use strict";var r=a("346f"),n=a.n(r);n.a},6609:function(e,t,a){},6663:function(e,t,a){},"67ac":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:e.$t("index.rightView.tab.averageDuration"),name:"first"}},[a("homes")],1),a("el-tab-pane",{attrs:{label:e.$t("index.rightView.tab.trackingNumber"),name:"second"}},[a("times")],1)],1)},n=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("let-form",{ref:"form",staticStyle:{"font-size":"16px"},attrs:{inline:!0}},[a("let-form-item",{attrs:{label:e.$t("callChain.date")}},[a("let-date-picker",{staticStyle:{width:"200px"},attrs:{theme:"primary",size:"small"},model:{value:e.date1,callback:function(t){e.date1=t},expression:"date1"}})],1),a("let-form-item",{attrs:{label:e.$t("callChain.method")}},[a("let-select",{attrs:{size:"small",placeholder:e.$t("callChain.selectMethod"),clearable:""},model:{value:e.funcName,callback:function(t){e.funcName=t},expression:"funcName"}},e._l(e.funcNames,(function(e,t){return a("let-option",{key:t,attrs:{label:e,value:e}})})),1)],1),a("let-form-item",[a("let-button",{ref:"myButton",staticStyle:{"margin-left":"10px"},attrs:{theme:"primary",size:"mini"},on:{click:e.sub}},[e._v(" "+e._s(e.$t("callChain.sub"))+" ")])],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.svgLoading,expression:"svgLoading"}],staticStyle:{height:"600px"}},[a("vue-scroll",{staticStyle:{width:"100%",height:"100%"},attrs:{ops:e.ops}},e._l(e.nodeinfos,(function(t,r){return a("div",{key:r},[a("div",{class:"svg"+r,staticStyle:{float:"left",width:"100%"}},[a("svg",{attrs:{id:e.svgId+"-"+r,width:"100%",height:"100%"}},[a("g"),a("rect")]),a("hr")]),a("div",{staticClass:"exportModal",attrs:{id:"exportModal-"+e.svgId+"-"+r}},[a("let-modal",{attrs:{title:"Gantt chart",width:"80%",footShow:!1,closeOnClickBackdrop:!0},on:{close:e.closeModel},model:{value:e.exportModal,callback:function(t){e.exportModal=t},expression:"exportModal"}},[a("div",{staticClass:"container",staticStyle:{width:"1400%",height:"500px"},attrs:{id:"container-"+e.svgId+"-"+r}})])],1)])})),0)],1)],1)},s=[],i=(a("99af"),a("4160"),a("c975"),a("a15b"),a("a434"),a("b0c0"),a("b680"),a("4d63"),a("ac1f"),a("5377"),a("25f0"),a("5319"),a("1276"),a("4c53"),a("159b"),a("96cf"),a("1da1")),l=a("b85c"),c=a("1226"),u=a.n(c),d=a("6e58"),m=a("6ace"),f=a("381a"),h=a.n(f),p={components:{},data:function(){var e="/k8s.html"==location.pathname;return{svgLoading:!1,k8s:e,exportModal:!1,changenum:0,surenum:"",svgId:"svg-"+h()(10),funcName:"",funcNames:[],date1:"",today:"",dateTime:"",flags:!1,options:[],resdata:[],restdata:[],value:"",serverArrs:[],datalist:[],dataLists:[],dataarr:[],traceIds:[],nodeinfos:[],edges:[],funcIds:[],begin:"",value1:"",loading:!1,flag2:!1,ops:{vuescroll:{},scrollPanel:{},rail:{keepShow:!0},bar:{hoverStyle:!0,onlyShowBarOnScroll:!1,background:"#9096A3","overflow-x":"hidden"}}}},mounted:function(){var e=new Date,t=e.getMonth()+1,a=e.getDate();t>=1&&t<=9&&(t="0"+t),a>=1&&a<=9&&(a="0"+a),this.date1=e.getFullYear()+"-"+t+"-"+a,this.dateTime=["00:00:00","23:59:59"],this.value=this.$store.state.name.name.application+"."+this.$store.state.name.name.server_name,this.sub()},created:function(){},watch:{changenum:function(e){this.exportModal=!0;var t,a=document.getElementsByClassName("exportModal"),r=Object(l["a"])(a);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.style&&(n.style.display="none")}}catch(i){r.e(i)}finally{r.f()}var o="exportModal-".concat(this.svgId,"-").concat(this.surenum),s=document.getElementById(o);s.style.display="block"}},methods:{sub:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o,s,i,l,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.svgLoading=!0,a=new RegExp("-","g"),e.today=e.date1.replace(a,""),e.flags=!0,e.flag2=!0,e.funcName){t.next=11;break}return t.next=9,e.$ajax.getJSON("/server/api/funcList",{id:e.value,nowDate:e.today,k8s:e.k8s});case 9:r=t.sent,e.funcNames=r.funcList;case 11:if(n={},e.funcName){t.next=18;break}return t.next=15,e.$ajax.getJSON("/server/api/getAverage",{label:e.value,nowDate:e.today,k8s:e.k8s});case 15:n=t.sent,t.next=21;break;case 18:return t.next=20,e.$ajax.getJSON("/server/api/getAverageByFuncName",{label:e.funcName,nowDate:e.today,k8s:e.k8s});case 20:n=t.sent;case 21:if(!n.error&&!n.err_msg){t.next=25;break}return e.$Notice({message:n.error||err_msg,type:"error"}),e.svgLoading=!1,t.abrupt("return");case 25:for(l in 0==n.rows.length&&(e.$Notice({message:e.$t("callChain.noResult"),type:"warning"}),e.svgLoading=!1),e.dataarr=[],n.rows.forEach((function(t){var a={};t.forEach((function(e,t){a[n.columns[t].name]=e})),e.dataarr.push(a)})),e.dataarr.forEach((function(e){e.vertexes=JSON.parse(e.vertexes),e.edges=JSON.parse(e.edges)})),e.resdata=[],e.restdata=[],o=[],s=[],e.traceIds=[],e.funcIds=[],i=-1,e.serverArrs=[],e.dataarr.forEach((function(t){e.serverArrs.push(t.id),e.traceIds.push(t.traceIds),e.funcIds.push(t.funcIds),i++,o[i]=[],s[i]=[],e.resdata[e.resdata.length]=t.vertexes,e.restdata[e.restdata.length]=t.edges;var a=t.vertexes,r=t.edges;a.forEach((function(e){o[i].push({id:e.vertex,label:e.vertex,time:0==e.callCount?0:(e.callTime/e.callCount).toFixed(2)})})),r.forEach((function(e){s[i].push({source:e.fromVertex,target:e.toVertex,label:0==e.callCount?0:(e.callTime/e.callCount).toFixed(2)})}))})),s.forEach((function(t,a){var r=[];t.forEach((function(e){r.push(e.target)})),t.forEach((function(t){r.indexOf(t.source)<0&&(e.begin=t.source,o[a].push({id:t.source,label:t.source}))}))})),e.edges=s,e.nodeinfos=o,e.traceIds)c=e.traceIds[l].replace("[","").replace("]","").replace(/\s/g,"").split(","),e.traceIds[l]=c;for(l in e.funcIds)u=e.funcIds[l].replace("[","").replace("]","").replace(/\s/g,"").split(","),e.funcIds[l]=u;e.becomeD3(s,o),e.svgLoading=!1,t.next=50;break;case 47:t.prev=47,t.t0=t["catch"](0),e.svgLoading=!1;case 50:case"end":return t.stop()}}),t,null,[[0,47]])})))()},becomeD3:function(e,t){var a=this;this.$nextTick((function(){var r=function(r){var n=(new u.a.graphlib.Graph).setGraph({});n.setGraph({rankdir:"LR",marginy:60}),t[r].forEach((function(e,t){e.rx=e.ry=5,n.setNode(e.id,{labelType:"html",label:e.time?'<div class="wrap"> <span class="span1" >'.concat(e.id,'</span> <p class="p1" style="height:20px" >( ').concat(e.time," ms )</p></div>"):'<div class="wrap"> <span class="span1" >'.concat(e.id,"</span> </div>"),style:"fill:#457ff5"})})),e[r].forEach((function(e){r%2==0?n.setEdge(e.source,e.target,{label:e.label+"ms",style:"fill:#fff;stroke:#333;stroke-width:1.5px;"}):n.setEdge(e.source,e.target,{label:e.label+"ms",style:"fill:#ffffff;stroke:#333;stroke-width:1.5px;"})}));var s="#".concat(a.svgId,"-").concat(r),i=d["select"](s),l=i.select("g"),c=new u.a.render;c(l,n),l.selectAll(".edgeLabel tspan").attr("dy","-1.2em");var f=document.querySelectorAll("".concat(s," .span1"));for(o in f){if(o==f.length)break;f[o].innerHTML==a.value&&(f[o].style.color="red")}var h=document.querySelector(s);h.style.height=h.getBBox().height+150,l.selectAll("g.node").on("click",(function(t,n){var o=[],i=d["select"](s);i.selectAll("rect").style("fill","#457FF5"),e[r].forEach((function(e,r){t==e.source&&a.begin!=e.target&&o.push(e)})),l.selectAll("rect").style("fill",(function(e){return e==t&&o.length>0?"#3F5AE0":"#457FF5"})),o.length>0&&(Object(m["a"])(o,e[r],0,o.length,t),a.ganTe(o,n,r))}))};for(var n in e){var o;r(n)}}))},closeModel:function(){},ganTe:function(e,t,r){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:n.$nextTick((function(){var o=n,s="container-".concat(n.svgId,"-").concat(r),i=document.getElementById(s);i.style.display="block";var l=e;l.forEach((function(e){n.resdata[r].forEach((function(t){e.target==t.vertex&&(e.server_time=0==t.callCount?0:t.callTime/t.callCount)})),n.restdata[r].forEach((function(t){e.source==t.fromVertex&&e.target==t.toVertex&&(e.client_time=0==t.callCount?0:t.callTime/t.callCount)}))}));var c=[],u=[],d=[],f=[],h=[],p=[];Object(m["b"])(l,c,u,d,f,h,p);var g=new Date,v=b(g);function b(e){var t=e.toLocaleDateString().split("/");return t[1].length<2&&t.splice(1,1,"0"+t[1]),t[2].length<2&&t.splice(2,1,"0"+t[2]),t.join("-")}var y=t,w=a("313e"),_=w.init(i),k=[],C=d.length-1;for(var x in d)k.push({name:d[x],value:[C-parseInt(x),p[x],p[x]+f[x],(f[x]-h[x])/2+p[x],h[x]]});var S=[];k.forEach((function(e){S.push(e.value[2])})),S.sort((function(e,t){return t-e})),d=d.reverse();var D=d;function M(e,t){var a=t.value(0),r=t.coord([t.value(1),a]),n=t.coord([t.value(2),a]),o=.35*t.size([0,1])[1]>30?30:.35*t.size([0,1])[1],s=w.graphic.clipRectByRect({x:r[0],y:r[1],width:n[0]-r[0],height:o},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height}),i=null;if(""!==t.value(3)){var l,c=t.coord([t.value(3),a]),u=t.value(4),d=t.value(3),m=+w.number.parseDate(v);if(m-d<=u)l=t.coord([m,a]);else{var f=d+u;l=t.coord([f,a])}i=w.graphic.clipRectByRect({x:c[0],y:c[1],width:l[0]-c[0],height:o},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height})}return null==i?s&&{type:"group",children:[{type:"rect",shape:s,style:t.style({fill:"#AACCF9"})}]}:s&&i&&{type:"group",children:[{type:"rect",shape:s,style:t.style({fill:"#a1a8f5"})},{type:"rect",shape:i,style:t.style({fill:"#9c9c9c"})}]}}_.setOption({tooltip:{formatter:function(e){return e.name+"<br/>"+o.$t("callChain.stringBtime")+e.value[1].toFixed(2)+"ms<br/>"+o.$t("callChain.stringEtime")+e.value[2].toFixed(2)+"ms<br/>"+o.$t("callChain.clientTime")+(e.value[2].toFixed(2)-e.value[1].toFixed(2))+"ms<br/>"+o.$t("callChain.serverTime")+e.value[4].toFixed(2)+"ms"}},title:{text:n.serverArrs[r]+"："+y,left:"center"},xAxis:{type:"value",min:0,max:S[0].toFixed(2),axisLabel:{interval:0},splitLine:{show:!0}},yAxis:{data:D,axisTick:{alignWithLabel:!0},splitLine:{show:!0}},legend:{left:"70%",top:20,data:["client","server"]},grid:{left:200},series:[{type:"custom",renderItem:M,name:"client",itemStyle:{color:"#a1a8f5"},encode:{x:[1,2],y:0},data:k},{type:"custom",name:"server",itemStyle:{color:"#9c9c9c"}}]}),n.surenum=r,n.changenum+=1}));case 1:case"end":return o.stop()}}),o)})))()}}},g=p,v=(a("7253"),a("2877")),b=Object(v["a"])(g,o,s,!1,null,null,null),y=b.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"all"},[a("div",[a("let-form",{attrs:{size:"small",inline:""}},[a("let-form-item",{attrs:{label:e.$t("callChain.date")}},[a("let-date-picker",{staticStyle:{width:"200px"},model:{value:e.today,callback:function(t){e.today=t},expression:"today"}})],1),a("let-form-item",{attrs:{label:e.$t("callChain.btime")}},[a("let-time-picker",{staticStyle:{width:"200px"},model:{value:e.dateTime[0],callback:function(t){e.$set(e.dateTime,0,t)},expression:"dateTime[0]"}})],1),a("let-form-item",{attrs:{label:e.$t("callChain.etime")}},[a("let-time-picker",{staticStyle:{width:"200px"},model:{value:e.dateTime[1],callback:function(t){e.$set(e.dateTime,1,t)},expression:"dateTime[1]"}})],1),a("let-form-item",[a("let-button",{staticStyle:{"margin-left":"10px","margin-bottom":"2px"},attrs:{theme:"primary"},on:{click:e.sub}},[e._v(" "+e._s(e.$t("callChain.sub"))+" ")])],1)],1)],1),a("div",{staticStyle:{height:"500px"}},[a("div",{staticClass:"block"},[a("let-pagination",{attrs:{total:e.total%e.fsize?parseInt(e.total/e.fsize)+1:e.total/e.fsize,page:e.currentPage,size:"small","no-border":"","show-sums":"",sum:e.total,jump:""},on:{change:e.handleCurrentChange}})],1),a("vue-scroll",{staticStyle:{width:"100%",height:"100%","margin-top":"5px"},attrs:{ops:e.ops}},[a("let-table",{ref:"detailsTable",staticStyle:{width:"100%",height:"580px"},attrs:{data:e.dataarrs,stripe:!0,"empty-msg":e.$t("callChain.noResult"),border:"true",sortable:!0}},[a("let-table-column",{attrs:{prop:"name",title:"ID"}}),a("let-table-column",{attrs:{prop:"timeStamp",title:e.$t("callChain.btime"),width:"15%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.startTime))]}}])}),a("let-table-column",{attrs:{prop:"timeFrame",title:e.$t("callChain.etime"),width:"15%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.endTime))]}}])}),a("let-table-column",{attrs:{prop:"timeFrame",title:e.$t("callChain.allTime"),width:"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.callTime)+"ms")]}}])}),a("let-table-column",{attrs:{align:"center",title:e.$t("callChain.operation"),width:"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("let-table-operation",{on:{click:function(a){return e.handleEdit(t.row)}}},[e._v(e._s(e.$t("callChain.detail")))])]}}])})],1)],1),a("let-modal",{staticStyle:{height:"1200px",top:"-120px"},attrs:{width:"90%",footShow:!1},model:{value:e.dialogVisible1s,callback:function(t){e.dialogVisible1s=t},expression:"dialogVisible1s"}},[a("div",{staticStyle:{height:"800px"}},[a("vue-scroll",{staticStyle:{width:"100%",height:"100%"},attrs:{ops:e.ops}},[a("gantt-chart",{attrs:{nodeinfos:e.nodeinfos,serverArrs:e.serverArrs,edges:e.edges,traceIds:e.traceIds,funcIds:e.funcIds,values:e.value,dialogVisible1s:e.dialogVisible1s}})],1)],1)])],1),a("opendiv",{attrs:{flag:e.flag,res:e.res,rest:e.rest,title:e.title}})],1)},_=[],k=(a("fb6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"svgs"}},e._l(e.nodeinfos,(function(e,t){return a("div",{key:t},[a("div",{style:t%2==1?"margin-top: 20px; padding: 10px;  background-color: #EBF2FF":"margin-top: 20px; padding: 10px;"},[a("div",{class:"svgs"+t,staticStyle:{float:"left",width:"100%"}},[a("svg",{style:t%2==1?"background-color: #EBF2FF;":"background-color: #ffffff;",attrs:{width:"100%",height:"600"}},[a("g"),a("rect")]),a("div",{staticClass:"containers",staticStyle:{width:"85%",height:"500px",display:"none"},attrs:{id:"containers"+t}})])])])})),0)}),C=[],x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:e.id}},[a("let-modal",{staticClass:"pop_tit",staticStyle:{"margin-top":"-100px"},attrs:{title:e.title,width:"90%",footShow:!1},on:{close:e.closeDialog},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[a("div",e._l(this.datalist.rows,(function(t,r){return a("div",{key:r,style:r%2==1?"background-color: #EBF2FF;":"background-color: #ffffff;"},[a("div",{class:"svgF"+r},[a("svg",{attrs:{id:"svg-"+e.id+"-"+r,width:"100%"}},[a("g"),a("rect")]),a("div",{staticClass:"wcontainer",staticStyle:{width:"85%",height:"500px",display:"none"},attrs:{id:"funccontainer-"+e.id+"-"+r}})])])})),0)])],1)},S=[],D=a("ee72"),M=D["a"],j=(a("8b05"),Object(v["a"])(M,x,S,!1,null,null,null)),A=j.exports;a("e1d2");var N={name:"svgs",components:{opendiv:A},props:["nodeinfos","serverArrs","funcIds","traceIds","values","dialogVisible1s"],data:function(){return{obj:[],value:[],value1:[],value2:[],res:"",rest:"",flag:!1,title:"",funcIdss:[],traceIdss:[],arr1:[],flags:[],ops:{vuescroll:{},scrollPanel:{},rail:{keepShow:!0},bar:{hoverStyle:!0,onlyShowBarOnScroll:!1,background:"#9096A3","overflow-x":"hidden"}}}},created:function(){},mounted:function(){},watch:{funcIds:function(e){var t=this;this.value=[],this.flags=[],e.forEach((function(e){t.flags.push(!0),t.value.push("")}))},nodeinfos:function(e){this.value=[],this.value1=[]},traceIds:function(e){var t=this;this.value=[],this.flags=[],e.forEach((function(e){t.flags.push(!0),t.value1.push("")}))}},computed:{},methods:{}},F=N,I=(a("3689"),Object(v["a"])(F,k,C,!1,null,"676cabca",null)),$=I.exports,R=a("c1df"),O=a.n(R),E={components:{ganttChart:$,opendiv:A},data:function(){var e="/k8s.html"==location.pathname;return{dialogVisible1s:!1,form:{},flag:!1,k8s:e,res:"",rest:"",title:"",flags:!1,vname:"",options:[],resdata:[],restdata:[],value:"",serverArrs:[],datalist:[],dataLists:[],dataarr:[],traceIds:[],nodeinfos:[],edges:[],funcIds:[],begin:"",value1:"",today:"",dateTime:["",""],fsize:10,currentPage:1,total:0,dataarrs:[],ops:{vuescroll:{},scrollPanel:{},rail:{keepShow:!0},bar:{hoverStyle:!0,onlyShowBarOnScroll:!1,background:"#F5F5F5",opacity:.5,"overflow-x":"hidden"}}}},mounted:function(){var e=(new Date).setHours(0,0,0,0),t=(new Date).setHours(23,59,59,999);this.value1=[e,t];var a=new Date,r=a.getMonth()+1;r>=1&&r<=9&&(r="0"+r);var n=a.getDate();n>=1&&n<=9&&(n="0"+n),this.today=a.getFullYear()+"-"+r+"-"+n,this.dateTime=["00:00","23:59"],this.vname=this.$store.state.name.name.application+"."+this.$store.state.name.name.server_name,this.sub()},methods:{handleCurrentChange:function(e){this.currentPage=e;var t=(this.currentPage-1)*this.fsize,a=t+this.fsize;this.dataarrs=this.dataarr.slice(t,a)},fortime:function(e){var t=new Date(e);e+="";var a=e.substring(e.length-3);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()," ").concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds(),".").concat(a)},sub:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.form.label=e.vname,e.dateTime[0]){t.next=4;break}return e.$Notice({message:e.$t("callChain.sbtime"),type:"warning"}),t.abrupt("return");case 4:if(e.dateTime[1]){t.next=7;break}return e.$Notice({message:e.$t("callChain.setime"),type:"warning"}),t.abrupt("return");case 7:if(e.form.stime="".concat(e.today," ").concat(e.dateTime[0]),e.form.etime="".concat(e.today," ").concat(e.dateTime[1]),e.form.stime=new Date(e.form.stime).getTime(),e.form.etime=new Date(e.form.etime).getTime(),e.form.nowDate=e.today,e.form.k8s=e.k8s,""!=e.form.nowDate){t.next=16;break}return e.$Notice({message:e.$t("callChain.sdata"),type:"error"}),t.abrupt("return");case 16:return a=[],t.prev=17,t.next=20,e.$ajax.getJSON("/server/api/detailByStartEndTime",e.form);case 20:a=t.sent,t.next=25;break;case 23:t.prev=23,t.t0=t["catch"](17);case 25:e.options=[],e.flags=!0,e.dataarr=[],r=Object(l["a"])(a),t.prev=29,r.s();case 31:if((n=r.n()).done){t.next=43;break}if(o=n.value,0!=o.endTime&&0!=o.startTime){t.next=35;break}return t.abrupt("continue",41);case 35:s={},s.name=o.name,s.callTime=o.endTime-o.startTime,s.startTime=O()(o.startTime).format("YYYY-MM-DD HH:mm:ss"),s.endTime=O()(o.endTime).format("YYYY-MM-DD HH:mm:ss"),e.dataarr.push(s);case 41:t.next=31;break;case 43:t.next=48;break;case 45:t.prev=45,t.t1=t["catch"](29),r.e(t.t1);case 48:return t.prev=48,r.f(),t.finish(48);case 51:e.total=e.dataarr.length,e.handleCurrentChange(1);case 53:case"end":return t.stop()}}),t,null,[[17,23],[29,45,48,51]])})))()},handleEdit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=new RegExp("-","g"),t.form.nowDate.replace(r,""),a.next=4,t.$ajax.getJSON("/server/api/detailByTraceId",{id:e.name,nowDate:t.form.nowDate.replace(r,""),k8s:t.k8s});case 4:return n=a.sent,t.title="TraceId："+e.name,t.res=n,t.flag=!0,a.abrupt("return");case 9:case"end":return a.stop()}}),a)})))()},becomeD3:function(e,t){var a=this;this.$nextTick((function(){var r=function(r){var n=(new u.a.graphlib.Graph).setGraph({});n.setGraph({rankdir:"LR",marginy:60}),t[r].forEach((function(e,t){e.rx=e.ry=5,n.setNode(e.id,{labelType:"html",label:e.time?'<div class="wrap"> <span class="span1">'.concat(e.id,'</span><p class="p1" style="height:20px" >( ').concat(e.time," ms )</p></div>"):'<div class="wrap"><span class="span1">'.concat(e.id,"</span ></div>"),style:"fill:#457ff5"})})),e[r].forEach((function(e){r%2==0?n.setEdge(e.source,e.target,{label:e.label+"ms",style:"fill:#fff;stroke:#333;stroke-width:1.5px;"}):n.setEdge(e.source,e.target,{label:e.label+"ms",style:"fill:#EBF2FF;stroke:#333;stroke-width:1.5px;"})}));var s=d["select"](".svgs".concat(r," svg")),i=s.select("g"),l=new u.a.render;l(i,n),document.getElementsByClassName("svg".concat(r)),i.selectAll(".edgeLabel tspan").attr("dy","-1.2em");var c=document.querySelectorAll(".svgs".concat(r," svg .span1"));for(o in c)if(o==c.length)break;i.selectAll("g.node").on("click",(function(t,n,o){var s=[],l=d["select"]("#svgs");if(l.selectAll(".all rect").style("fill","white"),e[r].forEach((function(e,r){t==e.source&&a.begin!=e.target&&s.push(e)})),i.selectAll("rect").style("fill",(function(e,a){return e==t&&s.length>0?"#3F5AE0":"#457FF5"})),s.length>0){Object(m["a"])(s,e[r],0,s.length,t);var c=[],u=-1;for(var f in s)s[f-1]&&s[f].source==s[f-1].source||(u+=1,c[u]=[]),c[u].push(s[f]);c.forEach((function(e){e.sort((function(e,t){return e.startTimeStamp-t.startTimeStamp}))}));var h=[];c.forEach((function(e){e.forEach((function(e){h.push(e)}))})),a.ganTe(h,t,r)}}))};for(var n in e){var o;r(n)}}))},ganTe:function(e,t,r){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function o(){var s,i,l,c,u,d,f,h,p,g,v,b,y,w,_,k,C,x,S,D,M,j,A,N,F;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:for(i in N=function(e,t){var a=t.value(0),r=t.coord([t.value(1),a]),n=t.coord([t.value(2),a]),o=.35*t.size([0,1])[1]>30?30:.35*t.size([0,1])[1],s=k.graphic.clipRectByRect({x:r[0],y:r[1],width:n[0]-r[0],height:o},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height}),i=null;if(""!==t.value(3)){var l,c=t.coord([t.value(3),a]),u=t.value(4),d=t.value(3),m=(k.number.parseDate(y),d+u);l=t.coord([m,a]),i=k.graphic.clipRectByRect({x:c[0],y:c[1],width:l[0]-c[0],height:o},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height})}return null==i?s&&{type:"group",children:[{type:"rect",shape:s,style:t.style({fill:"#AACCF9"})}]}:s&&i&&{type:"group",children:[{type:"rect",shape:s,style:t.style({fill:"#a1a8f5"})},{type:"rect",shape:i,style:t.style({fill:"#9c9c9c"})}]}},w=function(e){var t=e.toLocaleDateString().split("/");return t[1].length<2&&t.splice(1,1,"0"+t[1]),t[2].length<2&&t.splice(2,1,"0"+t[2]),t.join("-")},s=document.getElementsByClassName("containers"),s)s[i].style&&(s[i].style.display="none");for(D in l=document.getElementById("containers".concat(r)),l.style.display="block",c=e,u=[],c.forEach((function(e){u.push(e.startTimeStamp),n.resdata[r].forEach((function(t){e.target==t.vertex&&(e.server_time=t.callTime/t.callCount)})),n.restdata[r].forEach((function(t){e.source==t.fromVertex&&e.target==t.toVertex&&(e.client_time=t.callTime/t.callCount)}))})),d=[],f=[],h=[],p=[],g=[],v=[],Object(m["c"])(c,d,f,h,p,g,v),b=new Date,y=w(b),_=t,k=a("313e"),C=k.init(l),x=[],S=h.length-1,h)x.push({name:h[D],value:[S-parseInt(D),v[D],v[D]+p[D],(p[D]-g[D])/2+v[D],g[D]]});M=[],j=[],x.forEach((function(e){M.push(e.value[2]),j.push(e.value[1])})),M.sort((function(e,t){return t-e})),j.sort((function(e,t){return e-t})),h=h.reverse(),A=h,F=n,C.setOption({tooltip:{formatter:function(e){return e.name+"<br/>"+F.$t("callChain.stringBtime")+F.fortime(e.value[1])+"ms<br/>"+F.$t("callChain.stringEtime")+F.fortime(e.value[2])+"ms<br/>"+F.$t("callChain.clientTime")+(e.value[2].toFixed(2)-e.value[1].toFixed(2))+"ms<br/>"+F.$t("callChain.serverTime")+e.value[4].toFixed(2)+"ms"}},title:{text:n.serverArrs[r]+"："+_,left:"center"},xAxis:{type:"value",min:j[0],max:M[0],axisLabel:{interval:0,formatter:function(e){return F.fortime(e)}},splitLine:{show:!0}},yAxis:{data:A,axisTick:{alignWithLabel:!0},splitLine:{show:!0}},legend:{left:"70%",top:20,data:["client","server"]},grid:{left:260},series:[{type:"custom",renderItem:N,name:"client",itemStyle:{color:"#a1a8f5"},encode:{x:[1,2],y:0},data:x},{type:"custom",name:"server",itemStyle:{color:"#9c9c9c"}}]});case 33:case"end":return o.stop()}}),o)})))()},getdatas:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}},L=E,T=(a("4290"),Object(v["a"])(L,w,_,!1,null,null,null)),G=T.exports,B={data:function(){return{activeName:"first"}},components:{homes:y,times:G}},z=B,Z=(a("65f9"),Object(v["a"])(z,r,n,!1,null,null,null));t["a"]=Z.exports},"6ace":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return o}));a("99af"),a("c740"),a("4160"),a("c975"),a("d81d"),a("fb6a"),a("a434"),a("b0c0"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("6062"),a("3ca3"),a("466d"),a("5319"),a("1276"),a("159b"),a("ddb0"),a("53ca"),a("2909");var r=function(e,t,a,r,n,o,s,i,l,c,u,d){var m=0;e.forEach((function(e){e.btime=m,t.length>=1&&e.source==a[a.length-1]?e.btime=s[s.length-1]+(n[n.length-1]-o[o.length-1])/2:a.length>=1&&t.forEach((function(t,a){t==e.source&&(e.btime=s[a]+n[a])})),s.push(e.btime),t.push(e.source),a.push(e.target),e.source.length>e.target.length?r.push(e.source+"\n调用"+e.target):r.push(e.source+"调用\n"+e.target),n.push(e.client_time),o.push(e.server_time),i&&i.push(e.ret),l&&l.push(e.csData),c&&c.push(e.srData),u&&u.push(e.ssData),d&&d.push(e.crData)}))},n=function(e,t,a,r,n,o,s){e.forEach((function(e){e.btime=e.startTimeStamp,s.push(e.btime),t.push(e.source),a.push(e.target),e.source.length>e.target.length?r.push(e.source+"\n调用"+e.target):r.push(e.source+"调用\n"+e.target),n.push(e.client_time),o.push(e.server_time)}))},o=function e(t,a,r,n,o){if(n>1)for(var s=function(r){var s=!0;a.forEach((function(i,l){t[r].target==i.source&&(s?(t.push(t[r]),t.push(i)):t.push(i),s=!1,e(t,a,t.length-1,1,o)),l==a.length-1&&1==s&&t.push(t[r]),r==n-1&&l==a.length-1&&t.splice(0,n)}))},i=0;i<n;i++)s(i);else a.forEach((function(n){t[r].target==n.source&&t[r].target!=o&&(t.push(n),e(t,a,t.length-1,1,o))}))}},7253:function(e,t,a){"use strict";var r=a("dd29"),n=a.n(r);n.a},"72f1":function(e,t,a){},"762d":function(e,t,a){},7720:function(e,t,a){},"78e2":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"batch-publish",staticStyle:{display:"inline"}},[a("let-button",{attrs:{size:e.size,theme:"primary",disabled:e.disabled},on:{click:e.init}},[e._v(e._s(e.$t("dcache.batch."+e.type)))]),a("let-modal",{attrs:{closeOnClickBackdrop:!0,width:"1000px",title:e.$t("dcache.batch."+e.type)},on:{"on-confirm":e.confirm},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("let-form",[a("let-form-item",{attrs:{label:e.$t("service.serverName")}},e._l(e.checkedServers,(function(t){return a("p",[e._v(e._s(t.application+"."+t.server_name+"_"+t.node_name))])})),0)],1),a("let-form",{staticClass:"elegant-form"},[a("div",{staticClass:"elegant-switch"},[a("let-switch",{attrs:{size:"large"},on:{change:e.changeElegantStatus},model:{value:e.elegantChecked,callback:function(t){e.elegantChecked=t},expression:"elegantChecked"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("dcache.batch.elegantTask")))]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("dcache.batch.commonTask")))])]),e._v(" "),e.elegantChecked?a("div",{staticClass:"elegant-num"},[a("span",{staticClass:"elegant-label"},[e._v(e._s(e.$t("dcache.batch.elegantEachNum")))]),a("let-input-number",{staticClass:"elegant-box",attrs:{max:20,min:1,step:1,size:"small"},model:{value:e.eachNum,callback:function(t){e.eachNum=t},expression:"eachNum"}})],1):e._e()],1)])],1),a("let-modal",{attrs:{footShow:!1,closeOnClickBackdrop:!0,width:"1000px",title:e.$t("dcache.batch."+e.type)},model:{value:e.releaseIng,callback:function(t){e.releaseIng=t},expression:"releaseIng"}},[e.releaseId&&e.releaseIng?a("tars-release-progress",{attrs:{"release-id":e.releaseId},on:{"close-fn":this.getServerList}}):e._e()],1)],1)},n=[],o=(a("99af"),a("4160"),a("d3b7"),a("25f0"),a("159b"),a("96cf"),a("1da1")),s=a("393d"),i=a("2d43"),l=a("e51e"),c={components:{tarsReleaseProgress:i["a"]},mixins:[l["a"]],props:{size:String,disabled:Boolean,expandServers:{required:!1,type:Array},checkedServers:{required:!1,type:Array},type:String},data:function(){return{versionList:[],releaseId:null,show:!1,publishModal:{moduleName:"DCacheServerGroup",application:"DCache",totalPatchPage:0,pageSize:5,currPage:1},releaseIng:!1,elegantChecked:!1,eachNum:0}},methods:{init:function(){this.show=!0,this.releaseId=null,this.releaseIng=!1},confirm:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o,i,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],r=e.checkedServers,r.forEach((function(t){a.push({server_id:t.id.toString(),command:e.type})})),t.prev=3,n=e.elegantChecked,o=e.eachNum,i=!1,t.next=9,Object(s["a"])({serial:i,elegant:n,eachnum:o,items:a});case 9:l=t.sent,e.releaseIng=!0,e.releaseId=l,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](3),e.$tip.error("".concat(e.$t("common.error"),": ").concat(t.t0.message||t.t0.err_msg));case 17:case"end":return t.stop()}}),t,null,[[3,14]])})))()},getServerList:function(){this.show=!1,this.$emit("success-fn")},changeElegantStatus:function(e){this.checked=e,e&&(this.eachNum=1)}}},u=c,d=(a("4ad0"),a("2877")),m=Object(d["a"])(u,r,n,!1,null,null,null);t["a"]=m.exports},"8b05":function(e,t,a){"use strict";var r=a("9c4c"),n=a.n(r);n.a},"8b32":function(e,t,a){},"918a":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page_server_config"},[a("div",{staticStyle:{"margin-bottom":"5px"}},[a("h4",[e._v(" "+e._s(e.$t("cfg.title.a"))+" "),a("i",{staticClass:"el-icon-refresh-right",on:{click:function(t){return e.getConfigList(e.serverData)}}}),a("let-button",{staticStyle:{float:"right"},attrs:{size:"mini",theme:"primary"},on:{click:e.addConfig}},[e._v(e._s(e.$t("cfg.btn.add")))])],1)]),a("wrapper",{ref:"configListLoading"},[a("let-table",{attrs:{data:e.configList,"empty-text":e.$t("common.nodata")}},[a("let-table-column",{attrs:{width:"40px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("let-radio",{attrs:{label:t.row.id},model:{value:e.checkedConfigId,callback:function(t){e.checkedConfigId=t},expression:"checkedConfigId"}},[a("span")])]}}])}),a("let-table-column",{attrs:{title:e.$t("serverList.table.th.service"),prop:"server_name"}}),a("let-table-column",{attrs:{title:e.$t("cfg.btn.fileName"),prop:"filename"}}),a("let-table-column",{attrs:{title:e.$t("serverList.table.th.lastUser"),prop:"lastuser"}}),a("let-table-column",{attrs:{title:e.$t("cfg.btn.lastUpdate"),prop:"posttime"}}),a("let-table-column",{attrs:{title:e.$t("operate.operates"),width:"260px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("let-table-operation",{on:{click:function(a){return e.changeConfig(t.row,"configList")}}},[e._v(e._s(e.$t("operate.update")))]),a("let-table-operation",{on:{click:function(a){return e.deleteConfig(t.row.id)}}},[e._v(e._s(e.$t("operate.delete")))]),a("let-table-operation",{on:{click:function(a){return e.showDetail(t.row)}}},[e._v(e._s(e.$t("cfg.title.viewConf")))]),a("let-table-operation",{on:{click:function(a){return e.showHistory(t.row.id)}}},[e._v(e._s(e.$t("pub.btn.history")))])]}}])})],1)],1),e.refFileList&&e.showOthers?a("div",{staticStyle:{"margin-bottom":"5px"}},[a("h4",[e._v(" "+e._s(e.$t("cfg.title.b"))+" "),a("let-button",{staticStyle:{float:"right"},attrs:{size:"mini",theme:"primary"},on:{click:e.openRefFileModal}},[e._v(e._s(e.$t("cfg.btn.addRef")))])],1)]):e._e(),e.refFileList&&e.showOthers?a("wrapper",{ref:"refFileListLoading"},[a("let-table",{attrs:{data:e.refFileList,"empty-msg":e.$t("common.nodata")}},[a("let-table-column",{attrs:{title:e.$t("serverList.table.th.service"),prop:"server_name"}}),a("let-table-column",{attrs:{title:e.$t("cfg.btn.fileName"),prop:"filename"}}),a("let-table-column",{attrs:{title:e.$t("serverList.table.th.ip"),prop:"node_name"}}),a("let-table-column",{attrs:{title:e.$t("cfg.btn.lastUpdate"),prop:"posttime"}}),a("let-table-column",{attrs:{title:e.$t("operate.operates"),width:"260px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("let-table-operation",{on:{click:function(a){return e.deleteRef(t.row.id)}}},[e._v(e._s(e.$t("operate.delete")))]),a("let-table-operation",{on:{click:function(a){return e.showDetail(t.row)}}},[e._v(e._s(e.$t("operate.view")))])]}}],null,!1,3391403769)})],1)],1):e._e(),e.nodeConfigList&&e.showOthers?a("div",{staticStyle:{"margin-bottom":"5px"}},[a("h4",[e._v(" "+e._s(e.$t("cfg.title.c"))+" "),a("let-button",{staticStyle:{float:"right"},attrs:{size:"mini",theme:"primary"},on:{click:e.pushNodeConfig}},[e._v(e._s(e.$t("cfg.btn.pushFile")))])],1)]):e._e(),e.nodeConfigList&&e.showOthers?a("wrapper",{ref:"nodeConfigListLoading"},[e.nodeConfigList.length?a("let-checkbox",{staticClass:"check-all",model:{value:e.nodeCheckAll,callback:function(t){e.nodeCheckAll=t},expression:"nodeCheckAll"}}):e._e(),a("let-table",{attrs:{data:e.nodeConfigList,"empty-msg":e.$t("common.nodata")}},[a("let-table-column",{attrs:{width:"40px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("let-checkbox",{attrs:{label:t.row.id},model:{value:e.nodeCheckList,callback:function(t){e.nodeCheckList=t},expression:"nodeCheckList"}})]}}],null,!1,3731714217)}),a("let-table-column",{attrs:{title:e.$t("serverList.table.th.service"),prop:"server_name"}}),a("let-table-column",{attrs:{title:e.$t("serverList.table.th.ip"),prop:"node_name"}}),a("let-table-column",{attrs:{title:e.$t("cfg.btn.fileName"),prop:"filename"}}),a("let-table-column",{attrs:{title:e.$t("cfg.btn.lastUpdate"),prop:"posttime"}}),a("let-table-column",{attrs:{title:e.$t("operate.operates"),width:"400px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("let-table-operation",{on:{click:function(a){return e.changeConfig(t.row,"nodeConfigList")}}},[e._v(e._s(e.$t("cfg.table.modCfg")))]),a("let-table-operation",{on:{click:function(a){return e.showMergedDetail(t.row.id)}}},[e._v(e._s(e.$t("cfg.table.viewMerge")))]),a("let-table-operation",{on:{click:function(a){return e.showDetail(t.row)}}},[e._v(e._s(e.$t("cfg.table.viewIpContent")))]),a("let-table-operation",{on:{click:function(a){return e.showHistory(t.row.id)}}},[e._v(e._s(e.$t("pub.btn.history")))]),a("let-table-operation",{on:{click:function(a){return e.handleRefFiles(t.row.id)}}},[e._v(e._s(e.$t("cfg.table.mangeRefFile")))])]}}],null,!1,2593104344)})],1)],1):e._e(),a("let-modal",{attrs:{title:e.configModal.isNew?e.$t("operate.title.add")+" "+e.$t("common.config"):e.$t("operate.title.update")+" "+e.$t("common.config"),width:"80%"},on:{"on-confirm":e.configDiff,close:e.closeConfigModal,"on-cancel":e.closeConfigModal},model:{value:e.configModal.show,callback:function(t){e.$set(e.configModal,"show",t)},expression:"configModal.show"}},[e.configModal.model?a("let-form",{ref:"configForm",attrs:{itemWidth:"100%"}},[a("let-form-item",{attrs:{label:e.$t("cfg.btn.fileName"),required:""}},[a("let-input",{attrs:{size:"small",disabled:!e.configModal.isNew,required:""},model:{value:e.configModal.model.filename,callback:function(t){e.$set(e.configModal.model,"filename",t)},expression:"configModal.model.filename"}})],1),e.configModal.isNew?e._e():a("let-form-item",{attrs:{label:e.$t("cfg.btn.reason"),required:""}},[a("let-input",{attrs:{size:"small",required:""},model:{value:e.configModal.model.reason,callback:function(t){e.$set(e.configModal.model,"reason",t)},expression:"configModal.model.reason"}})],1),a("let-form-item",{attrs:{label:e.$t("cfg.btn.content"),required:""}},[a("let-input",{attrs:{size:"large",type:"textarea",rows:20,required:""},model:{value:e.configContent,callback:function(t){e.configContent=t},expression:"configContent"}})],1)],1):e._e()],1),a("let-modal",{attrs:{title:e.$t("filter.title.diffTxt"),width:"1200px"},on:{"on-confirm":e.updateConfigDiff,close:e.closeConfigDiffModal,"on-cancel":e.closeConfigDiffModal},model:{value:e.configDiffModal.show,callback:function(t){e.$set(e.configDiffModal,"show",t)},expression:"configDiffModal.show"}},[e.configDiffModal.model?a("div",{staticStyle:{"padding-top":"30px"}},[a("div",{staticClass:"codediff_head"},[a("div",{staticClass:"codediff_th"},[e._v("旧内容:")]),a("div",{staticClass:"codediff_th"},[e._v("新内容:")])]),a("diff",{attrs:{"old-string":e.configDiffModal.model.oldData,"new-string":e.configDiffModal.model.newData,context:10,"output-format":"side-by-side"}})],1):e._e()]),a("let-modal",{attrs:{title:e.detailModal.title,width:"80%",footShow:!1},on:{close:e.closeDetailModal},model:{value:e.detailModal.show,callback:function(t){e.$set(e.detailModal,"show",t)},expression:"detailModal.show"}},[e.detailModal.model&&e.detailModal.model.table?a("let-table",{staticClass:"history-table",attrs:{data:e.detailModal.model.table,"empty-msg":e.$t("common.nodata")}},[a("let-table-column",{attrs:{title:e.$t("common.time"),prop:"posttime"}}),a("let-table-column",{attrs:{title:e.$t("cfg.btn.reason"),prop:"reason"}}),a("let-table-column",{attrs:{title:e.$t("cfg.btn.content"),width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("let-table-operation",{on:{click:function(a){return e.showTableDeatil(t.row)}}},[e._v(e._s(e.$t("operate.view")))])]}}],null,!1,3817607729)})],1):e._e(),a("div",{staticClass:"pre_con"},[e.detailModal.model&&!e.detailModal.model.table||e.detailModal.model&&e.detailModal.model.table&&e.detailModal.model.detail?a("pre",[e._v(e._s(e.detailModal.model.detail||e.$t("cfg.msg.empty")))]):e._e()]),a("div",{ref:"detailModalLoading",staticClass:"detail-loading"})],1),e.refFileModal.model?a("let-modal",{attrs:{title:this.$t("operate.title.add"),width:"80%"},on:{"on-confirm":e.addRefFile,close:e.closeRefFileModal},model:{value:e.refFileModal.show,callback:function(t){e.$set(e.refFileModal,"show",t)},expression:"refFileModal.show"}},[a("let-form",{ref:"refForm",attrs:{itemWidth:"100%"}},[a("let-form-item",{attrs:{label:e.$t("cfg.msg.refFile"),required:""}},[a("let-select",{attrs:{size:"small",placeholder:e.$t("pub.dlg.defaultValue"),required:""},model:{value:e.refFileModal.model.filename,callback:function(t){e.$set(e.refFileModal.model,"filename",t)},expression:"refFileModal.model.filename"}},e._l(e.refFileModal.model.fileList,(function(t){return a("let-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.filename))])})),1)],1)],1)],1):e._e(),a("let-modal",{attrs:{title:e.$t("cfg.table.mangeRefFile"),width:"700",footShow:!1},on:{close:e.closeDetailModal},model:{value:e.nodeRefFileListModal.show,callback:function(t){e.$set(e.nodeRefFileListModal,"show",t)},expression:"nodeRefFileListModal.show"}},[e.nodeRefFileListModal.model?a("wrapper",[a("let-button",{staticClass:"add-btn",attrs:{size:"small",theme:"primary"},on:{click:e.openNodeRefFileModal}},[e._v(e._s(e.$t("cfg.btn.addRef")))]),a("let-table",{attrs:{data:e.nodeRefFileListModal.model.refFileList,title:e.$t("cfg.title.b"),"empty-msg":e.$t("common.nodata")}},[a("let-table-column",{attrs:{title:e.$t("serverList.table.th.service"),prop:"server_name"}}),a("let-table-column",{attrs:{title:e.$t("cfg.btn.fileName"),prop:"filename"}}),a("let-table-column",{attrs:{title:e.$t("serverList.table.th.ip"),prop:"node_name"}}),a("let-table-column",{attrs:{title:e.$t("cfg.btn.lastUpdate"),prop:"posttime"}}),a("let-table-column",{attrs:{title:e.$t("operate.operates"),width:"260px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("let-table-operation",{on:{click:function(a){return e.deleteRef(t.row.id,"nodeRef",t.row.config_id)}}},[e._v(e._s(e.$t("operate.delete")))]),a("let-table-operation",{on:{click:function(a){return e.showDetail(t.row)}}},[e._v(e._s(e.$t("operate.view")))]),a("let-table-operation",{on:{click:function(a){return e.showHistory(t.row.config_id)}}},[e._v(e._s(e.$t("pub.btn.history")))])]}}],null,!1,1797373192)})],1)],1):e._e()],1),a("let-modal",{attrs:{width:"700px",footShow:!1},on:{close:e.closePushResultModal},model:{value:e.pushResultModal.show,callback:function(t){e.$set(e.pushResultModal,"show",t)},expression:"pushResultModal.show"}},[e.pushResultModal.model?a("let-table",{attrs:{data:e.pushResultModal.model,title:e.$t("serverList.table.th.result"),"empty-msg":e.$t("common.nodata")}},[a("let-table-column",{attrs:{title:e.$t("serverList.table.th.service")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:0!==t.row.ret_code?"danger":"success"},[e._v(e._s(t.row.server_name))])]}}],null,!1,1546843640)}),a("let-table-column",{attrs:{title:e.$t("serverList.table.th.result")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"result",class:0!==t.row.ret_code?"danger":"success"},[e._v(e._s(t.row.err_msg))])]}}],null,!1,3216099087)})],1):e._e()],1)],1)},n=[],o=(a("99af"),a("a15b"),a("d81d"),a("d3b7"),a("ac1f"),a("25f0"),a("8a79"),a("5319"),a("dcab")),s=a("e68e"),i={name:"ServerConfig",components:{wrapper:o["a"],diff:s["a"]},data:function(){return{oldStr:"old code",newStr:"new code",serverData:{level:5,application:"",server_name:"",set_name:"",set_area:"",set_group:""},checkedConfigId:"",configList:[],refFileList:[],nodeConfigList:null,nodeCheckList:[],configContent:"",configModal:{show:!1,isNew:!0,model:null},configDiffModal:{type:"",show:!1,isNew:!0,model:null},detailModal:{show:!1,title:"",model:null},refFileModal:{show:!1,model:{fileList:[]}},nodeRefFileListModal:{show:!1,model:null},pushResultModal:{show:!1,model:null}}},computed:{showOthers:function(){return 5===this.serverData.level},nodeCheckAll:{get:function(){return!(!this.nodeConfigList||!this.nodeConfigList.length)&&this.nodeCheckList.length===this.nodeConfigList.length},set:function(e){this.nodeCheckList=e?this.nodeConfigList.map((function(e){return e.id})):[]}}},watch:{checkedConfigId:function(){var e=this;this.$nextTick((function(){e.getRefFileList(),e.getNodeConfigList()}))}},methods:{getConfigList:function(e){var t=this,a=this.$refs.configListLoading.$loading.show();this.$ajax.getJSON("/server/api/config_file_list",e).then((function(e){a.hide(),t.configList=e,t.refFileList=[],t.nodeConfigList=[],e[0]&&e[0].id&&(t.checkedConfigId=e[0].id)})).catch((function(e){a.hide(),t.$confirm(e.err_msg||e.message||t.$t("common.error"),t.$t("common.retry"),t.$t("common.alert")).then((function(){t.getConfigList()}))}))},addConfig:function(){this.configModal.model={filename:this.serverData.server_name+".conf",config:""},""==this.serverData.server_name&&(this.configModal.model.filename=this.serverData.application+".conf"),this.configModal.isNew=!0,this.configModal.show=!0},changeConfig:function(e,t){this.configModal.model=Object.assign({reason:""},e),this.configContent=e.config,this.configModal.target=t,this.configModal.isNew=!1,this.configModal.show=!0},updateConfigFile:function(){var e=this;if(this.$refs.configForm.validate()){var t=this.$Loading.show();this.configModal.model.filename=this.configModal.model.filename.replace(/(^\s*)|(\s*$)/g,"");var a=this.configModal.model;if(this.configModal.isNew){var r=Object.assign({application:this.serverData.application,level:this.serverData.level,server_name:this.serverData.server_name,set_name:this.serverData.set_name,set_area:this.serverData.set_area,set_group:this.serverData.set_group},a);this.$ajax.postJSON("/server/api/add_config_file",r).then((function(a){t.hide(),e.configList.unshift(a),1===e.configList.length&&(e.checkedConfigId=a.id),e.$tip.success(e.$t("common.success")),e.closeConfigModal(),e.closeConfigDiffModal()})).catch((function(a){t.hide(),e.$tip.error("".concat(e.$t("common.error"),": ").concat(a.err_msg||a.message))}))}else this.$ajax.postJSON("/server/api/update_config_file",{config:a.config,id:a.id,reason:a.reason}).then((function(a){t.hide(),e[e.configModal.target]=e[e.configModal.target].map((function(e){return e.id===a.id?a:e})),e.checkedConfigId===a.id&&(e.getRefFileList(),e.getNodeConfigList()),e.$tip.success(e.$t("common.success")),e.closeConfigModal(),e.closeConfigDiffModal()})).catch((function(a){t.hide(),e.$tip.error("".concat(e.$t("common.error"),": ").concat(a.err_msg||a.message))}))}},closeConfigModal:function(){this.$refs.configForm&&this.$refs.configForm.resetValid(),this.configModal.show=!1},deleteConfig:function(e){var t=this;this.$confirm(this.$t("cfg.msg.confirmCfg"),this.$t("common.alert")).then((function(){var a=t.$Loading.show();t.$ajax.getJSON("/server/api/delete_config_file",{id:e}).then((function(e){a.hide(),t.getConfigList(t.serverData),t.getNodeConfigList(),t.$tip.success(t.$t("common.success"))})).catch((function(e){a.hide(),t.$tip.error("".concat(t.$t("common.error"),": ").concat(e.err_msg||e.message))}))}))},getUnusedFileList:function(e){var t=this;this.showOthers&&this.$ajax.getJSON("/server/api/unused_config_file_list",{config_id:e,application:this.serverData.application}).then((function(e){t.refFileModal.model.fileList=e})).catch((function(e){t.refFileModal.model.fileList=[],t.$tip.error({title:t.$t("common.error"),message:e.err_msg||e.message||t.$t("common.networkErr")})}))},getRefFileList:function(){var e=this;if(this.showOthers){var t=this.$refs.refFileListLoading.$loading.show();this.$ajax.getJSON("/server/api/config_ref_list",{config_id:this.checkedConfigId}).then((function(a){t.hide(),a.map((function(e){var t=e.id;return e=Object.assign(e,e.reference),e.refrence_id=e.id,e.id=t,e})),e.refFileList=a})).catch((function(a){t.hide(),e.refFileList=[],e.$tip.error({title:e.$t("common.error"),message:a.err_msg||a.message||e.$t("common.networkErr")})}))}},openRefFileModal:function(){this.refFileModal.show=!0,this.refFileModal.isNodeRef=!1,this.getUnusedFileList(this.checkedConfigId)},openNodeRefFileModal:function(){this.refFileModal.show=!0,this.refFileModal.isNodeRef=!0,this.getUnusedFileList(this.refFileModal.id)},addRefFile:function(){var e=this;if(this.$refs.refForm.validate()){var t=this.$Loading.show();this.$ajax.getJSON("/server/api/add_config_ref",{config_id:this.refFileModal.isNodeRef?this.refFileModal.id:this.checkedConfigId,reference_id:this.refFileModal.model.filename}).then((function(a){t.hide(),e.refFileModal.show=!1,e.refFileModal.isNodeRef?e.getNodeRefFileList(e.refFileModal.id):e.getRefFileList()})).catch((function(a){t.hide(),e.$tip.error({title:e.$t("common.error"),message:a.err_msg||a.message||e.$t("common.networkErr")})}))}},closeRefFileModal:function(){this.refFileModal.show=!1},deleteRef:function(e,t,a){var r=this;this.$confirm(this.$t("cfg.msg.confirm"),this.$t("common.alert")).then((function(){var n=r.$Loading.show();r.$ajax.getJSON("/server/api/delete_config_ref",{id:e}).then((function(e){n.hide(),"nodeRef"==t?r.getNodeRefFileList(a):r.getRefFileList(),r.$tip.success(r.$t("common.success"))})).catch((function(e){n.hide(),r.$tip.error({title:r.$t("common.error"),message:e.err_msg||e.message||r.$t("common.networkErr")})}))}))},getNodeConfigList:function(){var e=this;if(this.showOthers){var t=this.$refs.nodeConfigListLoading.$loading.show(),a=Object.assign({config_id:this.checkedConfigId},this.serverData);this.$ajax.getJSON("/server/api/node_config_file_list",a).then((function(a){t.hide(),e.nodeConfigList=a})).catch((function(a){t.hide(),e.nodeConfigList=[],e.$tip.error({title:e.$t("common.error"),message:a.err_msg||a.message||e.$t("common.networkErr")})}))}},pushNodeConfig:function(){var e=this;if(this.nodeCheckList.length){var t=this.$Loading.show();this.$ajax.getJSON("/server/api/push_config_file",{ids:this.nodeCheckList.join(";")}).then((function(a){t.hide(),e.pushResultModal.model=a,e.pushResultModal.show=!0})).catch((function(a){t.hide(),e.$tip.error("".concat(e.$t("common.error"),": ").concat(a.err_msg||a.message))}))}else this.$tip.warning(this.$t("cfg.msg.selectNode"))},closePushResultModal:function(){this.pushResultModal.model=null,this.pushResultModal.show=!1},showDetail:function(e){this.detailModal.title=this.$t("cfg.title.viewConf"),this.detailModal.model={detail:e.config},this.detailModal.show=!0},showMergedDetail:function(e){var t=this;this.detailModal.title=this.$t("cfg.title.viewMerged"),this.detailModal.show=!0;var a=this.$loading.show({target:this.$refs.detailModalLoading});this.$ajax.getJSON("/server/api/merged_node_config",{id:e}).then((function(e){a.hide(),t.detailModal.model={detail:e}})).catch((function(e){a.hide(),t.$tip.error("".concat(t.$t("common.error"),": ").concat(e.err_msg||e.message))}))},showHistory:function(e){var t=this;this.detailModal.title=this.$t("cfg.title.viewHistory"),this.detailModal.show=!0;var a=this.$loading.show({target:this.$refs.detailModalLoading});this.$ajax.getJSON("/server/api/config_file_history_list",{config_id:e}).then((function(e){a.hide(),t.detailModal.model={table:e.rows,detail:""}})).catch((function(e){a.hide(),t.$tip.error("".concat(t.$t("common.error"),": ").concat(e.err_msg||e.message))}))},showTableDeatil:function(e){this.detailModal.model.detail=e.content},closeDetailModal:function(){this.detailModal.show=!1,this.detailModal.model=null},getNodeRefFileList:function(e){var t=this;this.$ajax.getJSON("/server/api/config_ref_list",{config_id:e}).then((function(e){e.map((function(e){var t=e.id;return e=Object.assign(e,e.reference),e.refrence_id=e.id,e.id=t,e})),t.nodeRefFileListModal.model={refFileList:e}})).catch((function(e){t.nodeRefFileListModal.model={refFileList:[]},t.$tip.error({title:t.$t("common.error"),message:e.err_msg||e.message||t.$t("common.networkErr")})}))},handleRefFiles:function(e){this.nodeRefFileListModal.show=!0,this.nodeRefFileListModal.model=null,this.refFileModal.id=e,this.getNodeRefFileList(e)},configDiff:function(){this.$refs.configForm.validate()&&(this.configDiffModal.type="config",this.configDiffModal.show=!0,this.configDiffModal.isNew=!1,this.configDiffModal.model={oldData:this.configModal.model.config,newData:this.configContent})},updateConfigDiff:function(){var e=this.configDiffModal.type,t=this.configModal.model;if(t.filename.toLowerCase().endsWith(".json"))try{JSON.parse(this.configContent)}catch(s){return void alert("config format error:"+s.toString())}if(t.filename.toLowerCase().endsWith(".xml"))try{var a=new DOMParser,r=a.parseFromString(this.configContent,"text/xml"),n=r.getElementsByTagName("parsererror"),o="";if(n.length>0)return o="parsererror"==r.documentElement.nodeName?r.documentElement.childNodes[0].nodeValue:r.getElementsByTagName("parsererror")[0].innerHTML,void alert("config format error:"+o)}catch(s){return void alert("config format error:"+s.toString())}"config"===e&&(this.configModal.model.config=this.configContent,this.updateConfigFile())},closeConfigDiffModal:function(){this.configDiffModal.show=!1},nodeConfigDiff:function(){this.$refs.nodeConfigForm.validate()&&(this.configDiffModal.type="nodeConfig",this.configDiffModal.show=!0,this.configDiffModal.isNew=!1,this.configDiffModal.model={oldData:this.nodeConfigModal.model.config,newData:this.nodeConfigContent})}},created:function(){this.serverData=this.$parent.getServerData()},mounted:function(){this.getConfigList(this.serverData)}},l=i,c=(a("4201"),a("2877")),u=Object(c["a"])(l,r,n,!1,null,null,null);t["a"]=u.exports},"98c9":function(e,t,a){},"9bdc":function(e,t,a){"use strict";var r=a("c10a"),n=a.n(r);n.a},"9c4c":function(e,t,a){},a082:function(e,t,a){},a4e9:function(e,t,a){},acfd:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("let-modal",{attrs:{title:e.$t("serverList.table.th.result"),width:"70%",footShow:!1},on:{"on-cancel":e.onClose,close:e.onClose},model:{value:e.finishModal.show,callback:function(t){e.$set(e.finishModal,"show",t)},expression:"finishModal.show"}},[e.finishModal.model?a("let-table",{attrs:{title:e.$t("serverList.servant.taskID")+e.finishModal.model.task_no,data:e.finishModal.model.items}},[a("let-table-column",{attrs:{title:e.$t("serverList.table.th.ip"),prop:"node_name",width:"200px"}}),a("let-table-column",{attrs:{title:e.$t("common.status"),width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("let-tag",{attrs:{theme:3==t.row.status?"success":4==t.row.status?"danger":"",checked:""}},[e._v(" "+e._s(e.statusConfig[t.row.status]+(3!=t.row.status&&4!=t.row.status?t.row.desc:""))+" ")])]}}],null,!1,3849836014)}),a("let-table-column",{attrs:{title:e.$t("serverList.table.th.result"),prop:"execute_info"}})],1):e._e()],1)],1)},n=[],o=(a("99af"),a("4160"),a("caad"),a("d3b7"),a("25f0"),a("2532"),a("159b"),{name:"PublishStatus",data:function(){return{closeCallback:null,timerId:null,finishModal:{show:!1,model:{task_no:"",items:[]}},statusConfig:{0:this.$t("serverList.restart.notStart"),1:this.$t("serverList.restart.preparing"),2:this.$t("serverList.restart.running"),3:this.$t("serverList.restart.success"),4:this.$t("serverList.restart.failed"),5:this.$t("serverList.restart.cancel"),6:this.$t("serverList.restart.pauseFlow")},statusMap:{0:"EM_T_NOT_START",1:"EM_T_PREPARE",2:"EM_T_RUNNING",3:"EM_T_SUCCESS",4:"EM_T_FAILED",5:"EM_T_CANCEL",6:"EM_T_PARIAL"},endStatus:[3,4]}},methods:{onClose:function(){this.closeCallback&&this.closeCallback(),clearTimeout(this.timerId)},savePublishServer:function(e,t,a,r){var n=this;a=a||"",r=r||e.model.patch_id.toString(),this.closeCallback=t;var o=[],s=e.elegant||!1;e.model.serverList.forEach((function(t){o.push({server_id:t.id.toString(),command:e.command||"patch_tars",parameters:{patch_id:r,bak_flag:t.bak_flag||!1,update_text:e.model.update_text||"",group_name:a,run_type:t.run_type||""}})}));var i=this.$Loading.show();this.$ajax.postJSON("/server/api/add_task",{serial:!s,elegant:s,eachnum:e.eachnum||1,items:o}).then((function(e){i.hide(),n.finishModal.model.task_no=e,n.finishModal.show=!0,n.getTaskRepeat(e)})).catch((function(e){i.hide(),n.$tip.error("".concat(n.$t("common.error"),": ").concat(e.message||e.err_msg))}))},getTaskRepeat:function(e){var t=this;this.timerId&&clearTimeout(this.timerId);var a=function a(){t.$ajax.getJSON("/server/api/task",{task_no:e}).then((function(e){var r=!0;e.items.forEach((function(e){t.endStatus.includes(e.status)||(r=!1),e.percent?e.desc="("+e.percent+"%)":e.desc="..."})),r?clearTimeout(t.timerId):t.timerId=setTimeout(a,2e3),t.finishModal.model.items=e.items})).catch((function(e){clearTimeout(t.timerId),t.timerId=null,t.$tip.error("".concat(t.$t("common.error"),": ").concat(e.message||e.err_msg))}))};a()}}}),s=o,i=a("2877"),l=Object(i["a"])(s,r,n,!1,null,null,null);t["a"]=l.exports},b3f5:function(e,t,a){"use strict";a("99af"),a("4160"),a("6d93");var r=a("a026"),n=(a("c975"),a("a15b"),a("13d5"),a("fb6a"),a("b64b"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("1276"),a("159b"),a("d4ec")),o=a("bee2"),s=a("53ca"),i=function(e){return"string"===typeof e},l=Array.isArray,c=function(e){return"object"===Object(s["a"])(e)&&null!==e},u=function(e){return"function"===typeof e},d=Object.assign;function m(e){return String(e).replace(/(?:[\0- "-&\+-\}\x7F-\xA8\xAA-\xAD\xAF-\u2121\u2123-\u23E8\u23F0-\u23F2\u23F4-\u23F7\u23FB-\u24C1\u24C3-\u25B5\u25B7-\u25FF\u27C0-\u2933\u2936-\u2B04\u2B08-\u2B1A\u2B1D-\u2B4F\u2B51-\u2B54\u2B56-\u302F\u3031-\u303C\u303E-\u3296\u3298\u329A-\uD7FF\uE000-\uFFFF]|[\uD800-\uD83B\uD83F-\uDBFF][\uDC00-\uDFFF]|\uD83C[\uDC00-\uDC03\uDC05-\uDCCE\uDCD0-\uDD6F\uDD72-\uDD7D\uDD80-\uDD8D\uDD8F\uDD90\uDE52-\uDEFF]|\uD83D[\uDE50-\uDE7F\uDF00-\uDFFF]|\uD83E[\uDC00-\uDCFF\uDE00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,encodeURIComponent).replace(/ /g,"+").replace(/[!'()~*]/g,(function(e){return"%".concat(e.charCodeAt().toString(16).slice(-2).toUpperCase())}))}function f(e){if(!e)return"";var t=[];return Object.keys(e).forEach((function(a){var r=e[a];null!==r&&void 0!==r||(r=""),t.push("".concat(m(a),"=").concat(m(r)))})),t.join("&").replace(/%20/g,"+")}function h(e){var t=function e(t,a,r){return l(r)||c(r)?(Object.keys(r).forEach((function(n){e(t,"".concat(a,"[").concat(n,"]"),r[n])})),t):(t[a]=r,t)};return f(Object.keys(e).reduce((function(a,r){return t(a,r,e[r])}),{}))}var p=function(){function e(t){Object(n["a"])(this,e),this.defaults=t}return Object(o["a"])(e,[{key:"get",value:function(e){return d({},this.defaults,e)}},{key:"set",value:function(e,t){var a=this;if(e){if(i(e)){var r=e.split(".");r.reduce((function(e,a,n){return n===r.length-1&&(e[a]=t),e[a]}),this.defaults)}c(e)&&Object.keys(e).forEach((function(t){a.set(t,e[t])})),l(e)&&e.forEach((function(e){return a.set(e,t)}))}}},{key:"remove",value:function(e){var t=this;if(e){if(i(e)){var a=e.split(".");a.reduce((function(e,t,r){return r===a.length-1&&delete e[t],e[t]}),this.defaults)}l(e)&&e.forEach((function(e){return t.remove(e)}))}}}]),e}(),g=function(){function e(t){Object(n["a"])(this,e),this.handler=t}return Object(o["a"])(e,[{key:"set",value:function(e){u(e)&&(this.handler=e)}},{key:"exec",value:function(){u(this.handler)&&this.handler.apply(null,arguments)}}]),e}(),v=function(){function e(t){Object(n["a"])(this,e),this.base=t||""}return Object(o["a"])(e,[{key:"set",value:function(e){i(e)&&(this.base=e)}},{key:"get",value:function(e){return this.base+(e||"")}}]),e}(),b=function e(){var t=this;Object(n["a"])(this,e),this.ServerUrl=new v,this.Options=new p({credentials:"same-origin",timeout:5e3}),this.Headers=new p({"X-Requested-With":"XMLHttpRequest"}),this.Body=new p({}),this.StatusHandler=new g,this.ResultHandler=new g((function(){return!0})),this.parseUrl=function(e,a){var r=f(t.Body.get(a));return r&&(r=-1===e.indexOf("?")?"?".concat(r):"&".concat(r)),e+r},this.checkStatus=function(e){var a=e.status;if(a>=200&&a<300||304===a)return e;throw t.StatusHandler.exec(a,e),new Error(e.statusText)},this.parseJSON=function(e){return e.json().then(null,(function(a){return t.StatusHandler.exec(500,e),Promise.reject(a)}))},this.successCallback=function(e){return t.ResultHandler.handler(e)?e:Promise.reject(e)},this.errorCallback=function(e){return Promise.reject(e)},this.get=function(e,a){var r=t.Options.get({headers:t.Headers.get()});return fetch(t.ServerUrl.get(t.parseUrl(e,a)),r).then(t.checkStatus).then(t.parseJSON).catch(t.errorCallback)},this.getJSON=function(e,a){var r=t.Options.get({headers:t.Headers.get()});return fetch(t.ServerUrl.get(t.parseUrl(e,a)),r).then(t.checkStatus).then(t.parseJSON).then(t.successCallback).catch(t.errorCallback)},this.post=function(e,a){var r=t.Options.get({method:"POST",headers:t.Headers.get({"Content-Type":"application/x-www-form-urlencoded"}),body:h(t.Body.get(a))});return fetch(t.ServerUrl.get(e),r).then(t.checkStatus).then(t.parseJSON).then(t.successCallback).catch(t.errorCallback)},this.postForm=function(e,a){var r=t.Options.get({method:"POST",headers:t.Headers.get(),body:a}),n=t.Body.get({});return Object.keys(n).forEach((function(e){a.append(e,n[e])})),fetch(t.ServerUrl.get(e),r).then(t.checkStatus).then(t.parseJSON).then(t.successCallback).catch(t.errorCallback)},this.postJSON=function(e,a){var r=t.Options.get({method:"POST",headers:t.Headers.get({Accept:"application/json","Content-Type":"application/json"}),body:JSON.stringify(t.Body.get(a))});return fetch(t.ServerUrl.get(e),r).then(t.checkStatus).then(t.parseJSON).then(t.successCallback).catch(t.errorCallback)},this.put=function(e,a){var r=t.Options.get({method:"PUT",headers:t.Headers.get({"Content-Type":"application/x-www-form-urlencoded"}),body:h(t.Body.get(a))});return fetch(t.ServerUrl.get(e),r).then(t.checkStatus).then(t.parseJSON).then(t.successCallback).catch(t.errorCallback)},this.remove=function(e,a){var r=t.Options.get({method:"DELETE",headers:t.Headers.get()});return fetch(t.ServerUrl.get(t.parseUrl(e,a)),r).then(t.checkStatus).then(t.parseJSON).then(t.successCallback).catch(t.errorCallback)},this.getPlain=function(e,a){var r=t.Options.get({method:"GET",headers:t.Headers.get()});return fetch(t.ServerUrl.get(t.parseUrl(e,a)),r).then(t.checkStatus).then(t.successCallback).catch(t.errorCallback)},this.postPlain=function(e,a){var r=t.Options.get({method:"POST",headers:t.Headers.get()});return fetch(t.ServerUrl.get(t.parseUrl(e,a)),r).then(t.checkStatus).then(t.successCallback).catch(t.errorCallback)},this.postBinary=function(e,a){var r=t.Options.get({method:"POST",headers:t.Headers.get(),body:a});return fetch(t.ServerUrl.get(t.parseUrl(e)),r).then(t.checkStatus).then(t.successCallback).catch(t.errorCallback)},this.download=function(e,a){window.open(t.ServerUrl.get(t.parseUrl(e,a)))}},y=b,w=new y;w.ServerUrl.set("/pages"),w.ResultHandler.set((function(e){return!(!e||200!==e.ret_code||null==e.data)})),["getJSON","postJSON"].forEach((function(e){var t=w[e];w["_".concat(e)]=t,w[e]=function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t.call.apply(t,[null].concat(a)).then((function(e){return e.data}))}})),Object.defineProperty(r["default"].prototype,"$ajax",{get:function(){return w}});t["a"]=w},c10a:function(e,t,a){},c44a:function(e,t,a){},c9e9:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page_server_server_monitor"},[a("let-form",{attrs:{inline:"",itemWidth:"200px"},nativeOn:{submit:function(t){return t.preventDefault(),e.search(t)}}},[a("let-form-item",{attrs:{label:e.$t("monitor.search.a")}},[a("let-date-picker",{attrs:{size:"small",formatter:e.formatter},model:{value:e.query.thedate,callback:function(t){e.$set(e.query,"thedate",t)},expression:"query.thedate"}})],1),a("let-form-item",{attrs:{label:e.$t("monitor.search.b")}},[a("let-date-picker",{attrs:{size:"small",formatter:e.formatter},model:{value:e.query.predate,callback:function(t){e.$set(e.query,"predate",t)},expression:"query.predate"}})],1),a("let-form-item",{attrs:{label:e.$t("monitor.search.start")}},[a("let-input",{attrs:{size:"small"},model:{value:e.query.startshowtime,callback:function(t){e.$set(e.query,"startshowtime",t)},expression:"query.startshowtime"}})],1),a("let-form-item",{attrs:{label:e.$t("monitor.search.end")}},[a("let-input",{attrs:{size:"small"},model:{value:e.query.endshowtime,callback:function(t){e.$set(e.query,"endshowtime",t)},expression:"query.endshowtime"}})],1),a("tars-form-item",{attrs:{label:e.$t("monitor.search.interfaceName")},on:{onLabelClick:function(t){return e.groupBy("interface_name")}}},[a("let-input",{attrs:{size:"small"},model:{value:e.query.interface_name,callback:function(t){e.$set(e.query,"interface_name",t)},expression:"query.interface_name"}})],1),a("tars-form-item",{attrs:{label:e.$t("monitor.search.master")},on:{onLabelClick:function(t){return e.groupBy("master_name")}}},[a("let-input",{attrs:{size:"small"},model:{value:e.query.master_name,callback:function(t){e.$set(e.query,"master_name",t)},expression:"query.master_name"}})],1),a("tars-form-item",{attrs:{label:e.$t("monitor.search.slave")},on:{onLabelClick:function(t){return e.groupBy("slave_name")}}},[a("let-input",{attrs:{size:"small"},model:{value:e.query.slave_name,callback:function(t){e.$set(e.query,"slave_name",t)},expression:"query.slave_name"}})],1),a("tars-form-item",{attrs:{label:e.$t("monitor.search.masterIP")},on:{onLabelClick:function(t){return e.groupBy("master_ip")}}},[a("let-input",{attrs:{size:"small"},model:{value:e.query.master_ip,callback:function(t){e.$set(e.query,"master_ip",t)},expression:"query.master_ip"}})],1),a("tars-form-item",{attrs:{label:e.$t("monitor.search.slaveIP")},on:{onLabelClick:function(t){return e.groupBy("slave_ip")}}},[a("let-input",{attrs:{size:"small"},model:{value:e.query.slave_ip,callback:function(t){e.$set(e.query,"slave_ip",t)},expression:"query.slave_ip"}})],1),a("let-form-item",[a("el-button",{attrs:{size:"small",type:"primary",disabled:e.loading,icon:e.loading?"el-icon-loading":""},on:{click:e.search}},[e._v(e._s(e.$t("operate.search")))])],1)],1),e.showChart?a("let-row",{ref:"charts",staticClass:"charts"},e._l(e.charts,(function(t){return a("let-col",{key:t.title,attrs:{span:12}},[e.allItems.length>0?a("compare-chart",e._b({},"compare-chart",t,!1)):e._e()],1)})),1):e._e(),e.enableHourFilter?a("hours-filter",{model:{value:e.hour,callback:function(t){e.hour=t},expression:"hour"}}):e._e(),a("let-table",{ref:"table",attrs:{data:e.pagedItems,"empty-msg":e.$t("common.nodata")}},[a("let-table-column",{attrs:{title:e.$t("common.time"),width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.show_time||t.row.show_date))]}}])}),a("let-table-column",{attrs:{title:e.$t("monitor.search.master")},scopedSlots:e._u([{key:"default",fn:function(t){return["%"!=t.row.master_name?a("span",[e._v(e._s(t.row.master_name))]):e._e(),"%"==t.row.master_name?a("span",{staticClass:"btn-link",on:{click:function(a){return e.groupBy("master_name",t.row)}}},[e._v(e._s(t.row.master_name))]):e._e()]}}])}),a("let-table-column",{attrs:{title:e.$t("monitor.search.slave")},scopedSlots:e._u([{key:"default",fn:function(t){return["%"!=t.row.slave_name?a("span",[e._v(e._s(t.row.slave_name))]):e._e(),"%"==t.row.slave_name?a("span",{staticClass:"btn-link",on:{click:function(a){return e.groupBy("slave_name",t.row)}}},[e._v(e._s(t.row.slave_name))]):e._e()]}}])}),a("let-table-column",{attrs:{title:e.$t("monitor.search.interfaceName")},scopedSlots:e._u([{key:"default",fn:function(t){return["%"!=t.row.interface_name?a("span",[e._v(e._s(t.row.interface_name))]):e._e(),"%"==t.row.interface_name?a("span",{staticClass:"btn-link",on:{click:function(a){return e.groupBy("interface_name",t.row)}}},[e._v(e._s(t.row.interface_name))]):e._e()]}}])}),a("let-table-column",{attrs:{title:e.$t("monitor.search.masterIP")},scopedSlots:e._u([{key:"default",fn:function(t){return["%"!=t.row.master_ip?a("span",[e._v(e._s(t.row.master_ip))]):e._e(),"%"==t.row.master_ip?a("span",{staticClass:"btn-link",on:{click:function(a){return e.groupBy("master_ip",t.row)}}},[e._v(e._s(t.row.master_ip))]):e._e()]}}])}),a("let-table-column",{attrs:{title:e.$t("monitor.search.slaveIP")},scopedSlots:e._u([{key:"default",fn:function(t){return["%"!=t.row.slave_ip?a("span",[e._v(e._s(t.row.slave_ip))]):e._e(),"%"==t.row.slave_ip?a("span",{staticClass:"btn-link",on:{click:function(a){return e.groupBy("slave_ip",t.row)}}},[e._v(e._s(t.row.slave_ip))]):e._e()]}}])}),a("let-table-column",{attrs:{prop:"the_total_count",align:"right"},scopedSlots:e._u([{key:"head",fn:function(t){return a("span",{},[e._v(e._s(e.$t("monitor.table.curr"))),a("br"),e._v(e._s(e.$t("monitor.table.total")))])}}])}),a("let-table-column",{attrs:{prop:"pre_total_count",align:"right"},scopedSlots:e._u([{key:"head",fn:function(t){return a("span",{},[e._v(e._s(e.$t("monitor.table.contrast"))),a("br"),e._v(e._s(e.$t("monitor.table.total")))])}}])}),a("let-table-column",{attrs:{prop:"total_count_wave",align:"right"},scopedSlots:e._u([{key:"head",fn:function(t){return a("span",{},[e._v(e._s(e.$t("monitor.table.fluctuating")))])}}])}),a("let-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"head",fn:function(t){return a("span",{},[e._v(e._s(e.$t("monitor.table.curr"))),a("br"),e._v(e._s(e.$t("monitor.table.a")))])}},{key:"default",fn:function(t){return[e._v(e._s(t.row.the_avg_time)+"ms")]}}])}),a("let-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"head",fn:function(t){return a("span",{},[e._v(e._s(e.$t("monitor.table.contrast"))),a("br"),e._v(e._s(e.$t("monitor.table.a")))])}},{key:"default",fn:function(t){return[e._v(e._s(t.row.pre_avg_time)+"ms")]}}])}),a("let-table-column",{attrs:{prop:"the_fail_rate",align:"right"},scopedSlots:e._u([{key:"head",fn:function(t){return a("span",{},[e._v(e._s(e.$t("monitor.table.curr"))),a("br"),e._v(e._s(e.$t("monitor.table.b")))])}}])}),a("let-table-column",{attrs:{prop:"pre_fail_rate",align:"right"},scopedSlots:e._u([{key:"head",fn:function(t){return a("span",{},[e._v(e._s(e.$t("monitor.table.contrast"))),a("br"),e._v(e._s(e.$t("monitor.table.b")))])}}])}),a("let-table-column",{attrs:{prop:"the_timeout_rate",align:"right"},scopedSlots:e._u([{key:"head",fn:function(t){return a("span",{},[e._v(e._s(e.$t("monitor.table.curr"))),a("br"),e._v(e._s(e.$t("monitor.table.c")))])}}])}),a("let-table-column",{attrs:{prop:"pre_timeout_rate",align:"right"},scopedSlots:e._u([{key:"head",fn:function(t){return a("span",{},[e._v(e._s(e.$t("monitor.table.contrast"))),a("br"),e._v(e._s(e.$t("monitor.table.c")))])}}])}),e.pageCount?a("let-pagination",{attrs:{slot:"pagination",total:e.pageCount,page:e.page,sum:e.itemsCount,"show-sums":"",jump:""},on:{change:e.changePage},slot:"pagination"}):e._e()],1)],1)},n=[],o=(a("99af"),a("4de4"),a("4160"),a("d81d"),a("fb6a"),a("b64b"),a("ac1f"),a("1276"),a("159b"),a("5530")),s=a("2699"),i=a("0b18"),l=a("0abb"),c=20,u="YYYYMMDD",d=function(e){return e&&e.length>0?e.map((function(e){var t=Object(o["a"])({},e),a=Object.keys(e),r=/^pre_.*/,n=/^the_.*/;return a.forEach((function(a){(r.test(a)||n.test(a))&&"0.00%"===e[a]&&(t[a]="0")})),t})):e},m={name:"ServerPropertyMonitor",components:{HoursFilter:i["a"],CompareChart:l["a"]},data:function(){var e=this.treeid,t=e.split("."),a="",r=!0;return"/k8s.html"==location.pathname?(r=!0,2==t.length&&(a=t[0]+"."+t[1])):(r=!1,2==t.length?a=t[0].substring(1)+"."+t[1].substring(1):5==t.length&&(a=t[0].substring(1)+"."+t[4].substring(1)+"."+t[1].substring(1)+t[2].substring(1)+t[3].substring(1))),{loading:!1,query:{thedate:Object(s["b"])(new Date,"YYYYMMDD"),predate:Object(s["b"])(Date.now()-s["a"],"YYYYMMDD"),startshowtime:"0000",endshowtime:"2360",master_name:"",slave_name:a,interface_name:"",master_ip:"",slave_ip:"",group_by:"",k8s:r},formatter:u,allItems:[],hour:-1,page:1,showChart:!0}},props:["treeid"],computed:{enableHourFilter:function(){return this.allItems.length&&this.allItems[0].show_time},filteredItems:function(){var e=this.hour;return e>=0&&this.enableHourFilter?this.allItems.filter((function(t){return+t.show_time.slice(0,2)===e})):this.allItems},itemsCount:function(){return this.filteredItems.length},pageCount:function(){return Math.ceil(this.filteredItems.length/c)},pagedItems:function(){return this.filteredItems.slice(c*(this.page-1),c*this.page)},charts:function(){return[{title:this.$t("monitor.table.total"),timeColumn:"show_time",dataColumns:[{name:"the_total_count",label:this.$t("monitor.table.curr")},{name:"pre_total_count",label:this.$t("monitor.table.contrast")}],data:this.allItems},{title:this.$t("monitor.table.a"),timeColumn:"show_time",dataColumns:[{name:"the_avg_time",label:this.$t("monitor.table.curr")},{name:"pre_avg_time",label:this.$t("monitor.table.contrast")}],data:this.allItems},{title:this.$t("monitor.table.b"),timeColumn:"show_time",dataColumns:[{name:"the_fail_rate",label:this.$t("monitor.table.curr")},{name:"pre_fail_rate",label:this.$t("monitor.table.contrast")}],data:this.allItems},{title:this.$t("monitor.table.c"),timeColumn:"show_time",dataColumns:[{name:"the_timeout_rate",label:this.$t("monitor.table.curr")},{name:"pre_timeout_rate",label:this.$t("monitor.table.contrast")}],data:this.allItems}]},chartOptions:function(){return{title:{show:!0,text:"".concat(this.$t("monitor.table.curr")," ").concat(this.$t("monitor.table.total"))},grid:{bottom:40,top:50},legend:{top:5},settings:{labelMap:{the_value:this.$t("monitor.property.property"),pre_value:this.$t("monitor.property.propertyC")},scale:[!0,!1]},data:{columns:["show_time","the_value","pre_value"],rows:this.allItems}}}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return this.loading=!0,this.$ajax.getJSON("/server/api/stat_monitor_data",this.query).then((function(t){e.loading=!1,e.allItems=d(t)})).catch((function(t){e.loading=!1,e.$tip.error("".concat(e.$t("common.error"),": ").concat(t.message||t.err_msg))}))},groupBy:function(e,t){this.query.group_by=e,this.showChart=!1,t&&(t.show_time&&(this.query.startshowtime=t.show_time,this.query.endshowtime=t.show_time),t.interface_name&&"%"!=t.interface_name&&(this.query.interface_name=t.interface_name),t.master_ip&&"%"!=t.master_ip&&(this.query.master_ip=t.master_ip),t.master_name&&"%"!=t.master_name&&(this.query.master_name=t.master_name),t.slave_ip&&"%"!=t.slave_ip&&(this.query.slave_ip=t.slave_ip),t.slave_name&&"%"!=t.slave_name&&(this.query.slave_name=t.slave_name)),this.fetchData()},search:function(){delete this.query.group_by,this.showChart=!0,this.fetchData()},changePage:function(e){this.page=e}}},f=m,h=(a("9bdc"),a("2877")),p=Object(h["a"])(f,r,n,!1,null,null,null);t["a"]=p.exports},cc08:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1ZDFiOTQyYS0zZWUyLTkxNGQtOTBiYS1iZTVkYzNjOTU1OTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzY4QUI4NjE2MUUwMTFFQUE2QjFBQzg4RDAwMDRCRDQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzY4QUI4NjA2MUUwMTFFQUE2QjFBQzg4RDAwMDRCRDQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjEwODNhYzItNzY4Yy02MjRkLWEyYWMtYTFiMTdmOTZhZmZhIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NzRmMzZhYTgtODFhOC04ZTQ5LWExN2UtMDI2MDYwMWE2ZGMwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+1rWp/gAABUtJREFUeNrsWX9MVVUc/94HT/xVEiqIEgwVZCa0VGrZL1OJRUbRWouIWjUasqHJZq7VP23+mJUV9hudo9LppsV4IZbKVlKmYm7MRiiuhkgs5IGCwft13+1z7j338a7vPnn3wRVtfrcP57377rnnc8/5fH+cgyBJEt1IZqEbzG4SNtsi9S5utbWqHx8HVgOZwMQwxzgGLAH6Q+1QlJsU1gyvA2zAw8Mgy+we4FtgjJmSWA68CbiAVcBkQAgDKcAFIBuoBCJMkQSsjLdr9/4Wu2UYzz/79ILOLLQ/AfnARTyv5MqbcM+wZ3ghb7/iLVvOcsAOSCFiLesIgo1onuQaXgFy68yQxC287ebtO8BKIMbAszcCBZz0j3yGRSY1kF5ldlgrDOPZTMPbeaRhpJkDv8hn/wOQLjCTsG9mPyqKoh/eHie3IRiT0m4eKRjpndw/2MtUgnSu6YkjNcGiaUOw8cB3wDxO+kM0G7jD7wLph0wlfOa8V25beBuiTQX2AwmcNAuZn/GXqQYyhhvWglrpVme4/sLI1gJLeWwuBW4DngUOAYtYGLzeaol0Lo/xmGWRO+FBvgIH1BUYUcIGnS5Yqt7FHBKkXTxGs3ojma/AqDudnuXykCeANEsoOX4rcF04nZ4V8Gjhn6CGDu56WySUl+pFNgPEg70pBnkJ/mOitBT+/wX8UE7H9MukYTTEjbUSPbMoku5ItNCUaIGaz/lklXtfegzFTZYdmRVZXwInR4RwuE635gkrLZuvHS5hivwMVtznzU1W6y25yFrJI8lzo+J0FqiSkWXu8vtfXtqw20Wlnzvo8oAs2zz2Z0edm1ZXOOj7Bg/1O+Tr+TyxXPtM58X4Fy9LFD1RoE1VLuq8pPhw0cdOWjIvgs7bvXS0RZmApnY3zZpuoZQZsu+lAb8Oi7BRK1tupTRolpGVdew3YjdeYu9RT0Af6+BG6gugnqfuKtOjREVJFGVnRlJSnDJM7XEPnbMPHSE/rXWrcmGJpETVuakzXJKtEG1p99In+1zkdBP92RlaOG9s9dJL5U6Kj8ZebXYEvbDMqu4zq0wjPDdRWdftB9z0R3sg0TnxAuU/aKWkWIEGUFH80iTSzvpBefRihnsHiE53eFTC95s6w5P4SUZXXyDZWXECbSkeq70GR5seI9C71e7RKS+b2xSim1+JothJ2mxb9IhVtw8LfemJWkpvPOW792dTCW+udlFDs0i3ThDosfna8xPVCfUsI8miyYyL75RFwGLpClMJ35saQZlpCtGmNm2S6esP7nwXLg3+5kaJb1e+s5z9shHC3UYJ5yxU3GPHITcdO6slbNOJvfIg0Ht9s+j7LqLbxj2+RPWAEcJfGyU853ZFt98cFwN+qzkp0p7DWudq/cdLZduccsTwt1NtkuY0KliU6OOnPzF8dl/nZwmFevldz05joIyZAhVnRdL7NYGev63OQwcbRUqNt9C/TomOnNGvTVLjfQ576mqET5ByzFrIyz31FDPkI6aMmZa7WImYtUBJIA5wrqxzaWJya5cEiLr9X0NKT0a/aTGCJkoE23Gw4yUbJ7qGS6LHqCywe2C1wKvqdw+4Pf+eg3r6JaOlaDXfrAadYbYVX0/KGXE5h2FjJ/kWQaB4FOZLM6dSlNVCwhUboHFjKEC3s2f4XGsxP6toD6Vaewto4DK4G5gQDmkvVvBvu0MmyxbzUcTkmhMiifhcmhNJmQh/Xb0SVexHCu+QKGWaIL8Etw5/sleTxIjHZciDHU0VG+jCSsqsgKuM8DVEHmADeoBeYB+QCqwHDgN9wBFgU7BnCDf/E2qy/SfAAC62Smq8ek9cAAAAAElFTkSuQmCC"},d6c4:function(e,t,a){},dcab:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section"},[e._t("default")],2)},n=[],o=(a("33c3"),a("2877")),s={},i=Object(o["a"])(s,r,n,!1,null,"2643216f",null);t["a"]=i.exports},dd29:function(e,t,a){},e15a:function(e,t,a){},e166:function(e,t,a){"use strict";var r=a("8b32"),n=a.n(r);n.a},e1d2:function(e,t,a){"use strict";a.r(t),a.d(t,"post",(function(){return o})),a.d(t,"get",(function(){return s}));a("4160"),a("d3b7"),a("159b");var r=a("bc3a");r.interceptors.response.use((function(e){if(200==e.status&&-2==e.data.code&&(document.location.href="/login"),400===e.status&&e.data.errors.length>0){var t="";return e.data.errors.forEach((function(e){t+="".concat(e.message,"\n")})),Promise.reject(t)}return e}),(function(e){return console.log(e),Promise.reject(e)}));var n="";function o(e,t){return r.post(n+e,t).then((function(e){return e}))}function s(e,t){return r(n+e,t).then((function(e){return e}))}t["default"]=r},e51e:function(e,t,a){"use strict";a("99af"),a("d81d"),a("fb6a"),a("a434"),a("ac1f"),a("5319");var r=a("5530");t["a"]={data:function(){return{servers:[],transferData:!0,migrationMethods:[{value:!0,text:this.$t("dcache.migrationMethod1")},{value:!1,text:this.$t("dcache.migrationMethod2")}]}},props:{expandServers:{required:!0,type:Array}},computed:{appName:function(){return this.expandServers[0].app_name},moduleName:function(){return this.expandServers[0].module_name},cache_version:function(){return this.expandServers[0].cache_version},srcGroupName:function(){return this.expandServers[0].group_name},dstGroupName:function(){return this.servers[0].group_name}},methods:{getServers:function(){this.servers=this.newGroup(this.expandServers)},addNewGroup:function(){var e=this.servers;this.servers=e.concat(this.newGroup(e.slice(e.length-this.expandServers.length)))},deleteGroup:function(){this.servers.splice(this.servers.length-this.expandServers.length,this.expandServers.length)},newGroup:function(e){return e.map((function(e,t){var a=e.group_name,n=e.server_name;a=a.replace(/^(.*?)(\d+)$/,(function(){return arguments[1]+(+arguments[2]+1)})),n=n.replace(/^(.*?)(\d+)-\d+$/,(function(){return arguments[1]+(+arguments[2]+1)+"-"+(t+1)}));var o=e.server_type;return Object(r["a"])(Object(r["a"])({},e),{},{group_name:a,server_name:n,server_ip:"",shmKey:"",server_type:o})}))}}}},e68e:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"diff_wrap",attrs:{id:"app"}},[a("div",{directives:[{name:"highlight",rawName:"v-highlight"}],domProps:{innerHTML:e._s(e.html)}})])},n=[],o=(a("4160"),a("a9e3"),a("ac1f"),a("5319"),a("159b"),a("bf68")),s=a("0eda"),i=a("1487"),l=a.n(i),c=(a("eba2"),a("1257"),{props:{oldString:{type:String,default:""},newString:{type:String,default:""},context:{type:Number,default:5},outputFormat:{type:String,default:"line-by-line"}},directives:{highlight:function(e){var t=e.querySelectorAll("code");t.forEach((function(e){l.a.highlightBlock(e)}))}},computed:{html:function(){return this.createdHtml(this.oldString,this.newString,this.context,this.outputFormat)}},methods:{createdHtml:function(e,t,a,r){function n(e){return e.replace(/<span class="d2h-code-line-ctn">(.+?)<\/span>/g,'<span class="d2h-code-line-ctn"><code>$1</code></span>')}var i=["",e,t,"","",{context:a}],l=o["createPatch"].apply(void 0,i),c=s["Diff2Html"].getJsonFromDiff(l,{inputFormat:"diff",outputFormat:r,showFiles:!1,matching:"lines"}),u=s["Diff2Html"].getPrettyHtml(c,{inputFormat:"json",outputFormat:r,showFiles:!1,matching:"lines"});return n(u)}}}),u=c,d=(a("f8e0"),a("2877")),m=Object(d["a"])(u,r,n,!1,null,null,null);t["a"]=m.exports},e73b:function(e,t,a){"use strict";var r=a("4998"),n=a.n(r);n.a},ee72:function(e,t,a){"use strict";(function(e){a("99af"),a("4160"),a("c975"),a("a15b"),a("a434"),a("b0c0"),a("b680"),a("d3b7"),a("ac1f"),a("25f0"),a("1276"),a("159b"),a("96cf");var r=a("1da1"),n=a("1226"),o=a.n(n),s=a("6e58"),i=a("381a"),l=a.n(i),c=a("6ace");t["a"]={props:["res","rest","title"],data:function(){return{dialogVisible:!1,options:[],resdata:[],restdata:[],value:"",serverArrs:[],dataLists:[],dataarr:[],traceIds:[],nodeinfos:[],edges:[],funcIds:[],datalist:[],arrdata:[],begin:"",id:"opendiv-"+l()(20)}},mounted:function(){},created:function(){},watch:{res:function(e){this.dialogVisible=!0,this.datalist=e,this.getdatas()},rest:function(e){this.dialogVisible=!0,this.datalist=e,this.getdatas()}},methods:{getdatas:function(){var e=this;this.$nextTick((function(){(new Date).getTime();var t=document.getElementsByClassName("wcontainer");(new Date).getTime();for(var a in t)t[a].style&&(t[a].style.display="none");(new Date).getTime();var r=[];e.datalist.rows.forEach((function(t){var a={};t.forEach((function(t,r){a[e.datalist.columns[r].name]=t})),r.push(a)}));(new Date).getTime();var n=[],o=[];r.forEach((function(e,t){e.vertexes=JSON.parse(e.vertexes),e.edges=JSON.parse(e.edges),n[t]=[],o[t]=[],e.vertexes.forEach((function(e){n[t].push({id:e.vertex,label:e.vertex,time:(e.callTime/e.callCount).toFixed(2)})})),e.edges.forEach((function(e){o[t].push({source:e.fromVertex,target:e.toVertex,label:(e.callTime/e.callCount).toFixed(2)})}))}));(new Date).getTime();e.arrdata=r,e.begin="",o.forEach((function(t,a){var r=[];t.forEach((function(e){r.push(e.target)})),t.forEach((function(t){r.indexOf(t.source)<0&&(e.begin=t.source,n[a].push({id:t.source,label:t.source}))}))}));(new Date).getTime();e.becomeD3(o,n)}))},becomeD3:function(e,t){var a=this;this.$nextTick((function(){var r=function(r){var n=(new o.a.graphlib.Graph).setGraph({});n.setGraph({rankdir:"LR",marginy:60}),t[r].forEach((function(e,t){e.rx=e.ry=5,n.setNode(e.id,{labelType:"html",label:e.time?'<div class="wrap"> <span class="span1">'.concat(e.id,'</span><p class="p1" style="height:20px" >( ').concat(e.time," ms )</p></div>"):'<div class="wrap"><span class="span1">'.concat(e.id,"</span ></div>"),style:"fill:#457ff5"})})),e[r].forEach((function(e){r%2==0?n.setEdge(e.source,e.target,{label:e.label+"ms",style:"fill:#fff;stroke:#333;stroke-width:1.5px;"}):n.setEdge(e.source,e.target,{label:e.label+"ms",style:"fill:#EBF2FF;stroke:#333;stroke-width:1.5px;"})}));var l="#svg-".concat(a.id,"-").concat(r),u=s["select"](l),d=u.select("g"),m=new o.a.render;m(d,n),d.selectAll(".edgeLabel tspan").attr("dy","-1.2em");var f=document.querySelectorAll("".concat(l," .span1"));for(i in f){if(i==f.length)break;f[i].innerHTML==a.value&&(f[i].style.color="red")}var h=document.querySelector("#svg-".concat(a.id,"-").concat(r)),p=h.getBBox().height;h.style.height=p+100,d.selectAll("g.node").on("click",(function(t,n){var o=[],i=s["select"]("#".concat(a.id));i.selectAll("rect").style("fill","#457FF5"),e[r].forEach((function(e,r){t==e.source&&a.begin!=e.target&&o.push(e)})),d.selectAll("rect").style("fill",(function(e,a){return e==t&&o.length>0?"#3F5AE0":"#457FF5"})),o.length>0&&(Object(c["a"])(o,e[r],0,o.length),a.ganTe(o,t,r))}))};for(var n in e){var i;r(n)}}))},ganTe:function(t,n,o){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var i,l,u,d,m,f,h,p,g,v,b,y,w,_,k,C,x,S,D,M,j,A,N,F,I,$,R,O;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:for(u in O=function(e,t){var a=t.value(0),r=t.coord([t.value(1),a]),n=t.coord([t.value(2),a]),o=.35*t.size([0,1])[1]>30?30:.35*t.size([0,1])[1],s=j.graphic.clipRectByRect({x:r[0],y:r[1],width:n[0]-r[0],height:o},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height}),i=null;if(""!==t.value(3)){var l,c=t.coord([t.value(3),a]),u=t.value(4),d=t.value(3),m=(j.number.parseDate(S),d+u);l=t.coord([m,a]),i=j.graphic.clipRectByRect({x:c[0],y:c[1],width:l[0]-c[0],height:o},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height})}return null==i?s&&{type:"group",children:[{type:"rect",shape:s,style:t.style({fill:"#AACCF9"})}]}:s&&i&&{type:"group",children:[{type:"rect",shape:s,style:t.style({fill:"#a1a8f5"})},{type:"rect",shape:i,style:t.style({fill:"#9c9c9c"})}]}},D=function(e){var t=e.toLocaleDateString().split("/");return t[1].length<2&&t.splice(1,1,"0"+t[1]),t[2].length<2&&t.splice(2,1,"0"+t[2]),t.join("-")},i=document.getElementsByClassName("wcontainer"),l=s,i)i[u].style&&(i[u].style.display="none");for(I in d=document.getElementById("funccontainer-".concat(s.id,"-").concat(o)),d.style.display="block",m=t,m.forEach((function(e){s.arrdata[o].vertexes.forEach((function(t){e.target==t.vertex&&(e.server_time=t.callTime/t.callCount)})),s.arrdata[o].edges.forEach((function(t){e.source==t.fromVertex&&e.target==t.toVertex&&(e.client_time=t.callTime/t.callCount,e.ret=t.ret,e.csData=t.csData,e.srData=t.srData,e.ssData=t.ssData,e.crData=t.crData)}))})),f=[],h=[],p=[],g=[],v=[],b=[],y=[],w=[],_=[],k=[],C=[],Object(c["b"])(m,f,h,p,g,v,b,y,w,_,k,C),x=new Date,S=D(x),M=n,j=a("313e"),A=j.init(d),N=[],F=p.length-1,p)N.push({name:p[I],value:[F-parseInt(I),b[I],b[I]+g[I],(g[I]-v[I])/2+b[I],v[I],y[I],w[I],_[I],k[I],C[I]]});$=[],N.forEach((function(e){$.push(e.value[2])})),$.sort((function(e,t){return t-e})),p=p.reverse(),R=p,A.setOption({tooltip:{enterable:!0,appendToBody:!0,position:function(t,a){return new e(a.value[6],"base64").toString().length>=500||new e(a.value[7],"base64").toString().length>=500||new e(a.value[8],"base64").toString().length>=500||new e(a.value[9],"base64").toString().length>=500?[t[0]-100,t[1]-250]:[t[0]-100,t[1]-100]},formatter:function(t){return t.name+"<br/>"+l.$t("callChain.stringBtime")+t.value[1].toFixed(2)+"ms<br/>"+l.$t("callChain.stringEtime")+t.value[2].toFixed(2)+"ms<br/>"+l.$t("callChain.clientTime")+(t.value[2].toFixed(2)-t.value[1].toFixed(2))+"ms<br/>"+l.$t("callChain.serverTime")+t.value[4].toFixed(2)+"ms<br>ret:"+t.value[5]+"<div style='word-wrap:break-word;white-space:normal;max-width: 900px;overflow-y: scroll;max-height: 400px'>csData:"+new e(t.value[6],"base64").toString()+"<br>srData:"+new e(t.value[7],"base64").toString()+"<br>ssData:"+new e(t.value[8],"base64").toString()+"<br>crData:"+new e(t.value[9],"base64").toString()+"</div>"}},title:{text:M,left:"center"},xAxis:{type:"value",min:0,max:$[0].toFixed(2),axisLabel:{interval:0},splitLine:{show:!0}},yAxis:{data:R,axisTick:{alignWithLabel:!0},splitLine:{show:!0}},legend:{left:"70%",top:20,data:["client","server"]},grid:{left:260},series:[{type:"custom",renderItem:O,name:"client",itemStyle:{color:"#a1a8f5"},encode:{x:[1,2],y:0},data:N},{type:"custom",name:"server",itemStyle:{color:"#9c9c9c"}}]});case 32:case"end":return r.stop()}}),r)})))()},closeDialog:function(){var e=a("313e"),t=document.getElementsByClassName("wcontainer");for(var r in t)e.init(t[r]).clear()}}}}).call(this,a("b639").Buffer)},f51c:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return h}));a("d3b7"),a("25f0");var r=a("a026"),n=a("a925"),o=a("00e7"),s=a.n(o),i=a("b3f5"),l=a("f0d9"),c=a.n(l),u=a("b2d6"),d=a.n(u);r["default"].use(n["a"]),r["default"].use(s.a);var m=new n["a"]({});m.setLocaleMessage("cn",c.a),m.setLocaleMessage("en",d.a);var f=[];function h(){return new Promise((function(e,t){i["a"].getJSON("/server/api/get_locale").then((function(t){var a=s.a.get("locale");if("[object Object]"==Object.prototype.toString.call(t)){for(var r in t)m.mergeLocaleMessage(r,t[r]),f.push({localeCode:r,localeName:t[r]["localeName"],localeMessages:t});a=t[a]?a:"cn",f=t}m.locale=a,e()})).catch((function(e){t(e)}))}))}},f77c:function(e,t,a){"use strict";a("99af");var r=a("d4ec"),n=a("bee2"),o=a("a026"),s=function(){function e(t){Object(r["a"])(this,e),this.vue=t}return Object(n["a"])(e,[{key:"showSucc",value:function(e){"string"==typeof e?this.vue.$message({message:e,showClose:!0,type:"success"}):this.vue.$message({message:"".concat(this.vue.$t("common.success")),showClose:!0,type:"success"})}},{key:"showWarning",value:function(e){this.vue.$message({message:e,showClose:!0,type:"warning"})}},{key:"showError",value:function(e){"string"==typeof e?this.vue.$message({message:e,showClose:!0,type:"error"}):e&&(e.message||e.err_msg)?this.vue.$message({message:"".concat(this.vue.$t("common.error"),": ").concat(e.message||e.err_msg),showClose:!0,type:"error"}):this.vue.$message({message:"".concat(this.vue.$t("common.error")),showClose:!0,type:"error"})}},{key:"showCloudError",value:function(e,t){this.vue.$message({message:this.vue.$t("cloud.".concat(e,".").concat(t&&t.tars_ret||"-1")),showClose:!0,type:"error"})}}]),e}();Object.defineProperty(o["default"].prototype,"$common",{get:function(){return this.commonUtil||(this.commonUtil=new s(this)),this.commonUtil}})},f8e0:function(e,t,a){"use strict";var r=a("7720"),n=a.n(r);n.a}}]);