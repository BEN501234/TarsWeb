(function(e,t){var n="cloudjs",r="./",o="./",i="blue",a=1e3;if(!e[n]){var c,l,s,u,f,p,h,d,m,g,v,y,b,_,x,w,O,j,E,k,A,S,M,q,T,$,C,R,I,z,L,N,H,B,D,W,F,Q,P,U,Y,G,J,K="_state_",V="_args_",X="_"+n+"_",Z="data-"+n,ee="require",te=0,ne=1,re=2,oe=3,ie=4,ae=/^\/\/.|:\//,ce=/^.*?\/\/.*?\//,le=/[^?#]*\//,se=/\/\.\//g,ue=/\/[^/]+\/\.\.\//,fe=/([^:/])\/+\//g;S=e.document,M=de("html")[0],C={}.toString,T=location.href.indexOf(X)>0,$={},j={},O={},q={},I={},R={},Q={},P={},z=function(e){return"[object Function]"===C.call(e)},L=function(e){return"[object Array]"===C.call(e)},N=function(e){return"[object Object]"===C.call(e)},H=function(e){return"[object Boolean]"===C.call(e)},B=function(e){return"[object String]"===C.call(e)},D=function(e){return"[object Number]"===C.call(e)},W=function(e,t){return e.hasOwnProperty(t)},F=[],Y=[],U=[],m=[],G=0,v={resizable:"resizable.css",draggable:"",paging:"paging.css",table:"paging.css",wsdtable:"",cascade:"",menu:"menu.css",clip:"",cookie:"",calendar:"calendar.css",monthpicker:"calendar.css",tab:"tab.css",ctab:"ctab.css",slide:"slide.css",message:"message.css",dialog:"dialog.css",tips:"tips.css",validate:"validate.css",combobox:"combobox.css",totop:"",mask:"mask.css",calculate:"",string:"",userChooser:"",newUserChooser:"",progressbar:"progressbar.css",uploader:"",pinyinspell:""},y={resizable:"201503241433",draggable:"201503241433",paging:"201503241433",table:"201503241433",cascade:"201503241433",menu:"201503241433",clip:"201503241433",cookie:"201503241433",calendar:"201503241433",monthpicker:"201503241433",tab:"201503241433",ctab:"201503241433",slide:"201503241433",dialog:"20150324143344",tips:"201503241433",validate:"201503241433",combobox:"201503241433",message:"201503241433",totop:"201503241433",calculate:"201503241433",string:"201503241433",progressbar:"201503241433",uploader:"201503241433",pinyinspell:"201503241433",css:"201509230001"},g=["charset","force","include","env","themes","uniq","get","define","callback"],e[n]=e.$[n]=c=function(){var n=arguments;return 0===n.length?b=t:"function"===typeof n[0]?(pe(n[0]),b=t):b="undefined"!==typeof jQuery?jQuery.apply(e,n):n[0],c},x=function(){},c.zIndex=function(e){return e?a=e:a++,a},c.env=function(e){var t=u;return e&&(u=e.replace(/(^\s*)|(\s*$)/g,""),Ie("/",u)||(u+="/")),t},c.themes=function(e){var t=f;return e&&(f=e.replace(/(^\s*)|(\s*$)/g,""),me()),t},c.charset=function(e){var t=l;return l=(e||l).replace(/(^\s*)|(\s*$)/g,""),t},c.include=function(){var e,t,n,r,o,i=arguments;return i.length>1&&F.sort.call(i,(function(e,t){return ve(t)-ve(e)})),B(i[1])||F.splice.call(i,1,0,""),H(i[2])||F.splice.call(i,2,0,!1),D(i[3])?i[2]=!0:F.splice.call(i,3,0,0),t=i[0],n=i[1],r=i[2],o=i[3],B(t)?(t=$e(t),e=t.split("/").pop().split(".js")[0],e=R[e]=n||e,I[e]=u,Be(e,t),function(e,t,n){setTimeout((function(){e&&p(n)}),t)}(r,o,e)):t&&c.util.error("error: path is must be string type! "+t),e||""},s=c.force=function(t,n,r,o,i){var a,c,l=arguments;E._res(),l.length>1&&F.sort.call(l,(function(e,t){return ve(t)-ve(e)})),B(l[1])||F.splice.call(l,1,0,""),H(l[2])||F.splice.call(l,2,0,!1),z(l[3])||F.splice.call(l,3,0,x),z(l[4])||F.splice.call(l,4,0,x),t=l[0],n=l[1],r=l[2],o=l[3],i=l[4],t&&t.length||o(),a=_e(t,n),c="async"in S.createElement("script")||"MozAppearance"in S.documentElement.style||e.opera?xe:we,c(a,r,o,i)},c.uniq=function(){var e,t,n,r=Math.random(),o=new Date,i="yyyyMMddHHmmss";for(n in r=("00000"+r).replace(/\./g,""),r=r.substr(r.length-5),e={"M+":o.getMonth()+1,"d+":o.getDate(),"H+":o.getHours(),"m+":o.getMinutes(),"s+":o.getSeconds(),"q+":Math.floor((o.getMonth()+3)/3),S:o.getMilliseconds()},/(y+)/.test(i)&&(i=i.replace(RegExp.$1,(o.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+n+")").test(i)&&(i=i.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t="00"+o.getMilliseconds(),t=t.substr(t.length-3),i+t+r},c.remove=function(e){var t,n,r,o,i=q[e]||{};for(r in i)if(W(i,r)&&(t=i[r],n=t.getAttribute(Z),n))if(n=n.replace(e+"_",""),"_"===n){if(o=t.href||t.src,o){o=o.split("?")[0],delete Q[o];try{M.removeChild(t)}catch(a){}}}else t.setAttribute(Z,n)},h=c.resolve=function(e,t,n){var r,o,i;return n||(e=$e(e)),o=e.charAt(0),ae.test(e)?r=e:"."===o?r=ze(t.match(le)[0]+e):"/"===o?(i=t.match(ce),r=i?i[0]+e.substring(1):e):r=u+e,0===r.indexOf("//")&&(r=location.protocol+r),r},c.define=function(n){var r,o,i,a=c[ee];for(r in c[ee]=function(){return[]},n)W(n,r)&&(i||a&&r===ee||!(r.indexOf("_")<0)?r===ee?(L(n[ee])?function(){var e=arguments;c[ee]=function(){return Array.apply(null,e)}}.apply(this,n[ee]):B(n[ee])?function(e){c[ee]=function(){return e}}([n[ee]]):z(n[ee])&&(c[ee]=n[ee]),delete n[ee]):r.indexOf("_")<0&&c.util.error("error: there at most has one name for mod/comp!"):(function(e){i=z(e)?e:function(){return e}}(n[r]),delete n[r],r=R[r]||r,function(i){o=n[r]=function(){(function(n,r,a,l,u,f,p){var h,d=[],m=[];G++,f=Ce(Le(i[ee].apply(r,n)||[],p=[]),o._comp);while(h=f.shift())c.util.isEndWith(".css",h)||h.indexOf(".css?")>0?d.push(h):m.push(h);function g(){d.length?(s(d,o._comp,v),function(){var e=arguments;setTimeout((function(){v.done||(s(d,o._comp,!0,v),e.callee())}),500)}()):v()}function v(){function s(o){var s=z(n[n.length-1])?n[n.length-1]:x;u=c.callback,l=c.callback=function(){s.apply(this,arguments),G--,setTimeout(He)},o&&(r=r===e||r===t?{}:r,he(r,o,!0)),(a=i.apply(r,n))!==t&&l.call(a),c.callback=u,b=t}v.done||(v.done=!0,k=$[o._comp],p.length?Ne(o._comp,p,s):s())}m.length?s(m,o._comp,g):g()})(arguments,b)},o._comp=r}(i)),r="");o?(o[ee]=i[ee]=c[ee],c[ee]=a,he(c,n,!0)):c.util.error("error: mod/comp must has one validate name!")},p=c.preload=function(){var e,t,n,r,o=arguments,i=0;for(r=z(o[o.length-1])?F.pop.call(o):x,o=F.slice.call(o),e=0,t=o.length;e<t;e++)B(n=o[e])?function(e){i++,j[e+K]===ie?a():(_=!0,c[e]((function(){_=!1,a()})),_=!1)}(n):L(n)&&(n.push(r),p.apply(c,n));function a(){--i||setTimeout(r)}return c},c.define({require:function(){for(var n,r,o,i=arguments,a=0,l=0,s=arguments.length,u=c.callback,f=this===e?t:this,p={},h=[],d=[];l<s;l++)n=i[l],r=[x],L(n)&&(r=n,n=r.shift(),!z(r[r.length-1])&&r.push(x)),B(n)&&c[n]?function(e,t){o=h[l]=function(){c(f)[e].apply(c,arguments)},o._args=r,d[l]=function(){t.call(p[e]=this),++a===s&&u.call(p)}}(n,r.pop()):c.util.error("error: need include com/mod: "+n);(function(){var e,t=arguments;(e=h.shift())&&(e._args.push((function(){d.shift().call(this),t.callee()})),e.apply(c,e._args))})()}}),We()}function pe(e){setTimeout((function(){Y.push(e)}))}function he(e,n,r){var o,i=1;if(e=e||{},"undefined"===typeof n||H(n))return e;N(n)||z(n)||(n={});while(i<=2){if(o=1===i?e:n,null!=o)for(var a in o){var c=e[a],l=o[a];e!==l&&(r&&l&&"object"===typeof l&&!l.nodeType?e[a]=he(c||(null!=l.length?[]:{}),l,r):l!==t&&(e[a]=l))}i++}return e}function de(e){return S.getElementsByTagName(e)}function me(){var e="cloudjs.css";c._comps_version=c._comps_version||y,s(h(o+f+"/"+e+"?r_"+c._comps_version.css,d),!0)}function ge(e){for(var t=!1,n=0;n<m.length;n++)if(m[n]===e){t=!0;break}!t&&e&&m.push(e)}function ve(e){return L(e)?5:B(e)?4:H(e)?3:D(e)?2:z(e)?1:0}function ye(e){var t=e.indexOf("?");return-1===t?e:e.substring(0,t)}function be(e){O[e.name]===t?O[e.name]=[e]:O[e.name].push(e)}function _e(e,t){var n,r,o,i=[];if("string"===typeof e)i.push({name:ye(e),url:e,comp:t}),be(i[0]);else if(L(e))for(e=e.concat(),r=0,o=e.length;r<o;r++)n=e[r],n={name:ye(n),url:n,comp:t},i.push(n),be(n);return i}function xe(e,t,n,r){Ae(e,(function(o){ke(o,t,(function(){for(var t=0,r=e.length;t<r;t++)if(!e[t].state||e[t].state!==ie)return;n()}),r)}))}function we(e,t,n,r){var o=function(){var o=e.length,i=!0;0!==o&&function(a){var c=arguments,l=e[a];ke(l,t,(function(){i&&l._err&&(i=!1),a+1===o?i&&n():c.callee(a+1)}),r)}(0)};Ae(e,(function(n,r){Oe(n,t,(function(){for(var t=0,n=e.length;t<n;t++)if(!e[t].state||e[t].state===ne)return;o()}))}))}function Oe(e,n,r,o){P[e.name]!==t?P[e.name].length?(e.state=ne,P[e.name].push(r)):(e.state=re,r()):(P[e.name]=[r],e.state=ne,Re({name:e.name,url:e.url,type:"cache"},(function(t){je(e,re,P)}),o))}function je(e,n,r){var o;if(Ee(e.name,n),r[e.name]!==t)while(o=r[e.name].shift())Se(o)}function Ee(e,n){var r=O[e];if(r!==t)for(var o=0,i=r.length;o<i;o++)r[o].state=n}function ke(e,n,r,o){var i,a,c=e.name.substr(e.name.lastIndexOf(".")+1);if(Q[e.name]===t)Q[e.name]=[r],u();else{if(e.comp){var l=qe(e.name);Me(l,e.comp),q[e.comp][e.name]=l}if(n)if("css"===c)Te(e.name),u();else if("js"===c)return i=Q[e.name],delete Q[e.name],void s(e.url,e.comp,n,(function(){while(i&&(a=i.shift()))a();r()}),o);Q[e.name].length?(e.state=oe,Q[e.name].push(r)):(e.state=ie,r())}function u(){e.state=oe;var t=Re(e,(function(t){je(e,ie,Q)}),o);e.comp&&(q[e.comp]=q[e.comp]||{},q[e.comp][e.name]=t,Me(t,e.comp))}}function Ae(e,t){for(var n=0,r=e.length;n<r;n++)t.call(e,e[n],n)}function Se(e){e=e||x,e._done||(e._done=1,e())}function Me(e,t){var n;e&&t&&(n=e.getAttribute(Z)||"_",n.indexOf("_"+t+"_")<0&&e.setAttribute(Z,n+t+"_"))}function qe(e){var t,n,r;for(t in q)if(W(q,t)&&(n=q[t],r=n[e]))break;return r}function Te(e){var t,n,r,o,i,a=de("link");for(o=0,i=a.length;o<i;o++)if(n=a[o],r=n.getAttribute("href"),r&&r.split("?")[0]===e){t=n;break}return!!t&&(M.appendChild(t.cloneNode(!0)),t.parentNode.removeChild(t),!0)}function $e(e){return!Ie(".css",e)&&e.lastIndexOf(".css?")<0&&!Ie(".js",e)&&e.lastIndexOf(".js?")<0&&(e.lastIndexOf("?")>0?(e=e.split("?"),e=e[0]+".js?"+e[1]):e+=".js"),e}function Ce(e,t){var n,r,o,i=c._comps_version&&c._comps_version[t]||"",a=c.env(I[t]);for(n=0,r=e.length;n<r;n++)o=h(e[n],$[t]),(i=i||"")?e[n]=o.split("?")[0]+"?"+i:e[n]=o;return c.env(a),e}function Re(e,t,n){var r,o,i,a,s=e.url,u=de("script");function f(){t(),(r._del||r.del&&!T)&&("css"!==o?a.removeChild(r):M.removeChild(r))}return i=u[0],a=i.parentNode,o=s.substr(s.lastIndexOf(".")+1).split("?")[0],"js"===o||"cache"===e.type?(r=S.createElement("script"),r.src=s,"cache"===(o=e.type)?r._del=!0:o="javascript",r.type="text/"+o,r.del=!0,r.defer=!1,r.async=!1,l&&(r.charset=l)):"css"===o?(r=S.createElement("link"),r.href=s,r.rel="stylesheet",r.type="text/css"):c.util.error("error: src type is invalidate! "+s),r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,r._del||"complete"===r.readyState||"loaded"===r.readyState||(e._err=!0,n()),f())}:(r.onload=function(){f()},r.onerror=function(){"css"===o?f():n()}),"css"!==o?a.insertBefore(r,i):M.appendChild(r),r}function Ie(e,t){return new RegExp(e+"$").test(t)}function ze(e){e=e.replace(se,"/"),e=e.replace(fe,"$1/");while(e.match(ue))e=e.replace(ue,"/");return e}function Le(e,t){var n,r;for(n=e.length-1;n>=0;n--)r=e[n],Ie(".js",r)||Ie(".css",r)||r.indexOf(".js?")>=0||r.indexOf(".css?")>=0||t.unshift(e.splice(n,1).pop().split("?")[0]);return e}function Ne(e,n,r){var o,i,a=c.env(I[e]),l=[];for(o=0,i=n.length;o<i;o++)l.push(c.include(n[o]));c.env(a),l.push((function(){r.call(t,this)})),c.require.apply(c,l)}function He(){var e;if(!G&&!J)while(e=Y.shift())e.call(this)}function Be(e,r){g[e]===t?z(c[e])||j[e+K]!==t||(j[e+K]=te,j[e+V]=[],$[e]=h(r,k),c[e]=function(){var r=arguments,o=b;return ge(e),J=!0,U?(U.push(function(e,t,n,r){return function(){t?c.preload(n,r[0]):(b=e,c[n].apply(c,r))}}(o,_,e,r)),b=_=t):j[e+K]===te?(F.push.call(r,b),b=t,F.push.call(r,_),j[e+K]=oe,j[e+V].push(r),c.util.log(n+" load: "+e),c.force($[e],e,(function(){var n,o,i,a,l=j[e+V],u=function(){return[]};for(j[e+K]=ie,J=!1,setTimeout(He),n=0,o=l.length;n<o;n++)if(r=l[n],_=F.pop.call(r),b=F.pop.call(r),_){function f(){s(a,e,(function(){r[0].apply(this,arguments)}))}if(a=Ce(Le((c[e][ee]||u).apply(b,r)||[],i=[]),e),i.length){k=$[e];for(var h=0,d=i.length;h<d;h++)i[h]=c.include(i[h]);p(i,f)}else f.call()}else c[e].apply(b,r);b=_=t}))):j[e+K]===oe?(F.push.call(r,b),F.push.call(r,_),j[e+V].push(r),b=_=t):j[e+K]===ie?(Q={},j[e+K]=te,A!==c[e].toString()?c[e].apply(b,r):c.util.error("error: file "+e+".js occur error"),b=_=t):c.util.error("error: load comp/mod "+e+" fail!"),o},A=A||c[e].toString()):c.util.error("error: can not use keyword "+e+" as the name of comp/mod, it has already existed!!")}function De(e,t){$[e]=$[e]+"?"+t}function We(){E={_res:function(){var e,t,n,r,o,i,a;if(!w){for(w=!0,i=de("script"),t=0,n=i.length;t<n;t++)r=i[t],r.src&&(e=r.src.split("?")[0],Q[e]=[]);for(a=de("link"),t=0,n=a.length;t<n;t++)o=a[t],o.href&&(e=o.href.split("?")[0],Q[e]=[])}},_keyword:function(){var e=0,t=g.length;while(e<t)g[g[e]]=!0,e++},_uri:function(){k=location.href&&0!==location.href.indexOf("about:")?location.href.match(le)[0]:"",c.env(location.href.split(location.pathname)[0])},_main:function(){(function(t){var n,o,a,l,u=de("script"),p=!0,m=[];function g(){if(p&&o){c.util.log("main ..."),p=!1,o=o.replace(new RegExp(";","gm"),",").split(",");for(var e=0,r=o.length;e<r;e++)k=t,(n=o[e])&&_(n,c.include(n))}}function b(){"complete"===S.readyState?setTimeout(g):S.addEventListener?(S.addEventListener("DOMContentLoaded",g,!1),e.addEventListener("load",g,!1)):(S.attachEvent("onreadystatechange",g),e.attachEvent("onload",g))}function _(e,t){s(h(e||"",k),(function(){A!==c[t].toString()&&c[t]()}))}u=u[u.length-1],d=u.src,o=u.getAttribute("data-main"),a=u.getAttribute("data-require"),l=u.getAttribute("data-path"),f=u.getAttribute("data-themes"),l=l||r,f=f||i,function(){setTimeout((function(){if(a){c.util.log("require ..."),a=a.replace(new RegExp(";","gm"),",").split(",");for(var e=0,r=a.length;e<r;e++)(n=a[e])&&m.push(h(n,t));s(m,b)}else b()}))}(),function(){function e(){if(!e.done){for(var t in e.done=!0,c._comps_version=y,c.env(h(l,d,!0)),v)W(v,t)&&De(t,c._comps_version[t]||"");var n=U.concat();U=null;for(var r=0,o=n.length;r<o;r++)n[r].call();setTimeout(He),me()}}for(var t in c.env(h(l,d,!0)),v)W(v,t)&&c.include(t);e()}()})(k)},_browser:function(){var e,t={ie:"ie",firefox:"firefox",chrome:"chrome",opera:"opera",safari:"safari",others:"others",type:"others",shell:"",ver:"0",version:"0"},n={},r=navigator.userAgent.toLowerCase();(e=r.match(/msie ([\d.]+)/))?n.ie=e[1]:(e=r.match(/firefox\/([\d.]+)/))?n.firefox=e[1]:(e=r.match(/chrome\/([\d.]+)/))?n.chrome=e[1]:(e=r.match(/opera.([\d.]+)/))?n.opera=e[1]:(e=r.match(/version\/([\d.]+).*safari/))&&(n.safari=e[1]),n.ie?t.type="ie":n.firefox?t.type="firefox":n.chrome?t.type="chrome":n.opera?t.type="opera":n.safari&&(t.type="safari"),"others"!==t.type?(t.ver=n[t.type].split(".")[0],t.version=n[t.type]):(t.ver="",t.version=""),t.mode=document.documentMode||t.ver,t.shell=r.indexOf("360ee")>-1?"360ee":r.indexOf("360se")>-1?"360se":r.indexOf("se")>-1?"sougou":r.indexOf("aoyou")>-1?"aoyou":r.indexOf("theworld")>-1?"theworld":r.indexOf("worldchrome")>-1?"worldchrome":r.indexOf("greenbrowser")>-1?"greenbrowser":r.indexOf("qqbrowser")>-1?"qqbrowser":r.indexOf("baidu")>-1?"baidu":r.indexOf("liebao")>-1?"liebao":"unknow",c.browser=t}},E._keyword(),E._browser(),E._uri(),E._main()}})(this),function(e,t){var n=cloudjs.util={};n.isEndWith=function(e,t){return new RegExp(e+"$").test(t)},n.isStartWith=function(e,t){return new RegExp("^"+e).test(t)},n.indexOf=function(e,t,n){var r,o;if(n=n||0,"string"===typeof e)return e.indexOf(t,n);for(r=n,o=e.length;r<o;r++)if(e[r]===t)return r;return-1},n.log=function(){var t=e.console;try{t&&t.log&&t.log.apply&&([].unshift.call(arguments,"[cloudjs.util.log]"),t.log.apply(t,arguments))}catch(n){}},n.error=function(){var t=e.console;try{t&&t.error&&t.error.apply&&([].unshift.call(arguments,"[cloudjs.util.error]"),t.error.apply(t,arguments))}catch(n){}},n.trace=function(){var t=e.console;try{t&&t.trace&&t.trace.apply&&([].unshift.call(arguments,"[cloudjs.util.trace]"),t.trace.apply(t,arguments))}catch(n){}}}(this);