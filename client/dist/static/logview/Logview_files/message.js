cloudjs.define({message:function(e){var t={type:"normal",content:"提示信息",duration:3e3,showLeftIcon:!1,showCloseIcon:!1,relative:document,position:"in_top",offsetLeft:0,offsetTop:0,id:null,isTriggerClose:!1,zIndex:null};if(e&&$.isPlainObject(e))$.extend(t,e);else if("close"===e)return b(arguments[1]?arguments[1]:"all"),!0;var s=null,i=null,n=null,o=-1===cloudjs.util.indexOf(["normal","success","warn","error"],t.type)?"normal":t.type,a=t.content,l=t.duration<0?5e3:t.duration,d=t.showLeftIcon,c=t.showCloseIcon,r=t.relative,f=-1===cloudjs.util.indexOf(["in_top","left","right","up","down"],t.position)?"in_top":t.position,u=t.offsetLeft,p=t.offsetTop,m=t.isFull||!1,h=t.id?"mes_"+t.id+"_"+Math.random():null,_=t.isTriggerClose||!1;function g(){v(),I()}function v(){var e="";s=$("<div></div>").addClass("message_div message_"+o).addClass(Math.random().toString()),h&&s.attr("id",h),d?e+='<p class="message_icon cloudjs_icon"></p>':s.addClass("message_no_left_icon"),e+="<span>"+a+"</span>",c?e+='<p class="message_close cloudjs_icon"></p>':s.addClass("message_no_right_icon"),e+="</div>",s.appendTo("body").html(e),i=s.find(">.message_close")}function w(){var e=null,t=0,i=0,n=0,o=0,a={},l=0,d=0,c=0;if(s.css({zIndex:_zIndex}),9===r.nodeType)e=$(document),$(s).css({position:"fixed"}),a.top=p,l=$(s).outerWidth(),n=e.width(),c=l-$(s).width(),m?(a.width=n-c,a.left=0):a.left=n/2-l/2+u,$(s).css(a);else if($(s).css({position:"absolute"}),e=$(r),t=e.offset().top,i=e.offset().left,n=e.outerWidth(),o=e.outerHeight(),l=$(s).outerWidth(),c=l-$(s).width(),m)a.width=n-c,a.left=i,a.top=t+p,$(s).css(a);else if(/^in_/.exec(f)){var h=Math.min(l,n);a.width=h-c,a.left=i+(n-h)/2+parseInt(u),a.top=t+p,$(s).css(a)}else{switch($(s).css({width:l}),l=$(s).outerWidth(),d=$(s).outerHeight(),f){case"up":a.top=t-d+p,a.left=i+(n-l)/2+parseInt(u);break;case"down":a.top=t+o+p,a.left=i+(n-l)/2+parseInt(u);break;case"left":a.top=t+p,a.left=i-l+u;break;case"right":a.top=t+p,a.left=i+n+u;break;default:break}$(s).css(a)}}function I(){$("body").append(s),w(),s.stop().animate({opacity:1},200),l>0&&null==n&&(n=setTimeout((function(){b()}),l)),i&&i.bind("click",(function(){b()}));var e="message"+Math.random();_&&setTimeout((function(){$("html").bind("click."+e,(function(t){var i=$(t.target);if(!i.is(s)){var n=$(t.target).parents(".message_div");n&&n.is(s)||s&&s.parent()[0]&&(b(),$("html").unbind("click."+e),s=null)}}))}),10),$(window).bind("resize."+e,(function(){s&&s.parent()[0]?w():$(window).unbind("resize."+e)}))}function b(e){if(e){if("all"===e)x($(".message_div")),clearTimeout(n),n=null;else if("string"===typeof e)x($('.message_div[id^="mes_'+e+'_"]'));else if($.isArray(e))for(var t=0,i=e.length;t<i;t++)x($('.message_div[id^="mes_'+e[t]+'_"]'))}else x(s),clearTimeout(n),n=null}function x(e){e&&e.each((function(){var e=$(this);e.stop().animate({opacity:0},200,(function(){e.remove()}))}))}_zIndex=void 0===t.zIndex||null===t.zIndex||isNaN(t.zIndex)?cloudjs.zIndex():t.zIndex,g()}});